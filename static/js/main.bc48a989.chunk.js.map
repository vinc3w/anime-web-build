{"version":3,"sources":["Components/NavBar/NavBar.js","utils/xhr.js","Components/Home/Carousel.js","Components/Home/Home.js","Components/ToTopBtn/ToTopBtn.js","Components/MainForm/Autocomplete.js","utils/url.js","Components/AdvanceSearch/filterValue.js","Components/AdvanceSearch/Filter.js","Components/MainForm/Form.js","Components/Header/Header.js","Components/Top/Nav.js","Components/Items/Top/moreThan700/Heading.js","utils/date.js","Components/Items/ItemInfo.js","custom-hook/useIsMounted.js","Components/Items/ShowInfo.js","Components/Items/Top/moreThan700/Items.js","Components/Items/Top/lessThan700/Items.js","Components/Items/Top/Items.js","Components/Top/TopItems.js","Components/Top/Top.js","Components/Items/Search/moreThan700/cols.js","Components/Items/Search/moreThan700/Heading.js","Components/Items/Search/moreThan700/ShowCol.js","Components/Items/Search/moreThan700/Items.js","Components/Items/Search/lessThan700/Items.js","assets/umaru-chan-sad.png","Components/Items/Search/Items.js","Components/Search/SearchItems.js","Components/Search/Search.js","Components/AdvanceSearch/AdvanceSearch.js","Components/Genre/genres.js","Components/Items/Season-Genre/Items.js","Components/Genre/GenreItems.js","Components/Genre/ChooseGenre.js","Components/Genre/Genre.js","Components/Season/Archive.js","Components/Season/Nav.js","Components/Season/Schedule.js","Components/Season/Season.js","Components/ItemPage/requests.js","Components/ItemPage/Nav.js","Components/ItemPage/Parts/Left/Details/AM/Information.js","Components/ItemPage/Parts/Left/Details/AM/Details.js","Components/ItemPage/ShowMore.js","Components/ItemPage/Parts/Left/Details/CP/Character.js","Components/ItemPage/Parts/Left/Details/CP/Person.js","Components/ItemPage/Parts/Left/Details/CP/Details.js","Components/ItemPage/Parts/Left/Details/Details.js","Components/ItemPage/Parts/Left/CharactersStaff/CharactersStaff.js","Components/ItemPage/Parts/Left/Episodes/Episodes/Type1.js","Components/ItemPage/Parts/Left/Episodes/Episodes/Type2.js","Components/ItemPage/Parts/Left/Episodes/Episodes.js","Components/ItemPage/Parts/Left/News/News.js","Components/ItemPage/Parts/Left/Pictures/Pictures.js","Components/ItemPage/Parts/Left/Videos/Videos.js","Components/ItemPage/Parts/Left/Stats/Stats.js","Components/ItemPage/Parts/Left/Forum/Forum.js","Components/ItemPage/Parts/Left/Reviews/Reviews.js","Components/ItemPage/Parts/Left/Recommendations/Recommendations.js","Components/ItemPage/Parts/Left/UserUpdates/UserUpdates.js","Components/ItemPage/Parts/Right/Top.js","Components/ItemPage/Parts/Right/Bottom.js","Components/ItemPage/ItemPage.js","Components/ProducerMagazine/ProducerMagazine.js","Components/NotFound/NotFound.js","Components/Footer/SuggestionBox.js","Components/Footer/Footer.js","App.js","index.js"],"names":["NavBar","hamburger","useRef","navLinks","className","to","ref","onClick","e","hamburderStyle","current","childNodes","classList","toggle","forEach","i","onclick","setTimeout","get","url","callback","Promise","resolve","reject","xhr","XMLHttpRequest","open","progressBar","document","getElementById","onloadstart","style","display","animation","onloadend","onreadystatechange","readyState","responseText","onerror","send","Carousel","props","title","type","subtype","useState","items","setItems","carousel","prevBtn","nextBtn","useEffect","then","response","parsed","JSON","parse","top","catch","err","console","log","carouselItems","map","item","index","mal_id","backgroundImage","image_url","episodes","volumes","scrollLeft","scrollTo","onScroll","target","Home","ToTopBtn","window","Autocomplete","forwardRef","autocomplete","searchHisKey","input","filterSubmit","isAdvanceSearch","searches","setSearches","searchHis","setSearchHis","localStorage","addEventListener","changeSearchHis","arr","history","search","id","value","focus","a","searchesCopy","indexOf","textContent","splice","stringify","filter","includes","trim","length","shifted","shift","setItem","addParam","name","URL","location","searchParams","append","set","addMultiParams","data","querys","paramsObj","slice","split","p","types","anime","manga","statuses","ratings","orderBys","sorts","genres","Filter","setFilterSubmit","setGenres","selectedGenre","setSelectedGenre","excludeGenres","setExcludeGenres","filterValue","setFilterValue","thumb","typeOf","status","rated","orderBy","sort","useHistory","select","key","filterValueCopy","onChange","checked","genreCopy","push","changeGenre","checkboxes","filterBtnClick","go","alert","join","htmlFor","Form","setType","currIndex","setCurrIndex","formContainer","form","useLocation","am","pathname","startsWith","q","remove","li","add","onSubmit","preventDefault","every","toLowerCase","unshift","stopPropagation","documentClick","removeEventListener","autoComplete","placeholder","onKeyDown","keyCode","which","Header","NavTop","params","useParams","lis","setLis","subtypes","characters","people","changeLis","Col3","Heading","convertISO8601","str","obj","date","Date","full","toString","year","getFullYear","month","getMonth","day","getDay","getDate","hour","getHours","minute","getMinutes","second","getSeconds","meridiem","ItemInfo","itemInfo","scoreEl","score","s","int","parseInt","point","ISO8601","published","from","aired","d","duration","chapters","time","synopsis","genre","useIsMounted","isMountedRef","isMounted","useCallback","fetchInfo","ShowInfo","setItemInfo","img","itemInfoContainer","general","querySelector","timeoutId","onmouseleave","clearTimeout","Ography","Birthday","iso8601","Col2","BottomPart","start_date","end_date","animeography","mangaography","birthday","minHeight","src","alt","name_kanji","favorites","Item","rank","Items","fontSize","setData","innerWidthSize","setInnerWidthSize","linkType","changeInnerWidthSize","innerWidth","abortController","AbortController","originalType","abort","TopItems","page","apiUrl","fetchData","Top","titlelized","toUpperCase","t","Nav","cols","show","HeadingCols","order_by","path","ShowCol","setDisplay","CheckBoxes","defaultChecked","changeShowCol","showArr","AltNames","airing","publishing","alternative_names","el","setQuerys","replace","umaruSad","SearchItems","genre_exclude","componentMounted","st","r","o","so","ig","eg","undefined","results","Search","setQuery","AdvanceSearch","startDate","da","producer","positionItemInfo","parentElement","offsetLeft","showItemInfo","x","onmouseenter","onMouseEnter","members","airing_start","publishing_start","producers","authors","licensors","serialization","GenreItems","setItemCount","itemCount","item_count","parsedPage","ChooseGenre","genreList","linkUrl","Genre","Td","seasons","season","Archive","DayLinks","isSchedule","height","setHeight","changeHeight","isNaN","Schedule","monday","tuesday","wednesday","thursday","friday","saturday","sunday","other","unknown","Season","isArchive","isLater","archive","Content","Title","request","character","person","links","requests","Genres","Info","info","Information","premiered","string","broadcast","studios","rating","title_synonyms","serializations","Theme","theme","Details","moreInfo","title_english","setTitle","title_japanese","popularity","trailer_url","background","moreinfo","opening_themes","ending_themes","ShowMore","itemContClassName","setItemContClassName","showBtn","setShowBtn","itemsCont","moreThan400","clientHeight","isShowingLess","contains","currentTarget","link","language","role","Character","voice_actors","Items1","position","Items2","Person","anime_staff_positions","published_manga","voice_acting_roles","Object","keys","detailPage","about","CharactersStaff","charactersSection","staffSection","voiceActors","voiceActor","staff","positions","Episodes1","lang","episode","episode_id","video_url","rel","href","filler","recap","forum_url","Episodes2","Episodes","setLang","setEpisodes","Type2","reverse","Type1","episodes_last_page","News","articles","article","intro","author_url","author_name","comments","Pictures","pics","setPics","pictures","pic","large","Videos","videos","vid","promos","promo","Stats","drawnScores","_scores","scores","votes","percentage","width","completed","dropped","on_hold","plan_to_watch","watching","plan_to_read","reading","total","Forum","forums","topics","topic","date_posted","replies","Reviews","reviews","review","reviewer","username","content","helpful_count","table","overall","enjoyment","sound","story","Recommendations","recommendations","recommendation_count","recommendation_url","UsersUpdate","users","user","episodes_seen","episodes_total","Score","starCont","progress","percent","star","circumference","baseVal","Math","PI","strokeDasharray","strokeDashoffset","circle","onLoad","marginBottom","cx","cy","round","Related","related","member_favorites","nicknames","alternate_names","family_name","given_name","website_url","ItemPage","setMoreInfo","requestedData","setRequestedData","ismounted","useIsmounted","setter","exact","UserUpdates","Bottom","Producer","meta","Error","NotFound","SuggestionBox","suggestionBox","subject","setSubject","body","setBody","inputTextLength","textArea","textAreaTextLength","submitBtn","hideSuggestionBox","validateSubmitBtn","inputValue","textAreaValue","click","onInput","Footer","App","ProducerMagazine","ReactDOM","render","StrictMode"],"mappings":"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AAIwG,EAAKZ,OAAQ5F,IAChCI,EAAIgG,aAAaC,OAAOG,EAAKxG,GAAGiG,KAAMO,EAAKxG,GAAGiF,OAC9C7E,EAAIgG,aAAaE,IAAIE,EAAKxG,GAAGiG,KAAMO,EAAKxG,GAAGiF,OAE5C,OAAO7E,EAiBD,SAASqG,IACZ,IAAMC,EAAY,GAKlB,OAJA5C,OAAOqC,SAASpB,OAAO4B,MAAM,GAAGC,MAAM,KAAK7G,SAAQ,SAAA8G,GAC/C,IAAMD,EAAQC,EAAED,MAAM,KACtBF,EAAUE,EAAM,IAAMA,EAAMA,EAAMhB,OAAS,MAExCc,ECpCJ,IAAMI,EAAQ,CACpBC,MAAO,CACN,OACA,KACA,MACA,QACA,UACA,MACA,SAEDC,MAAO,CACN,OACA,QACA,QACA,UACA,SACA,SACA,WAIWC,EAAW,CACvBF,MAAO,CACN,OACA,SACA,YACA,YAEDC,MAAO,CACN,OACA,aACA,YACA,aAIWE,EAAU,CACtB,OACA,IACA,KACA,OACA,MACA,IACA,MAGYC,EAAW,CACvBJ,MAAO,CACN,OACA,QACA,aACA,WACA,QACA,OACA,UACA,KACA,WACA,UAEDC,MAAO,CACN,OACA,QACA,aACA,WACA,QACA,OACA,UACA,KACA,WACA,YAIWI,EAAQ,CACpB,OACA,YACA,cAGYC,EAAS,CACrBN,MAAO,CACN,SACA,YACA,OACA,SACA,WACA,SACA,UACA,QACA,QACA,UACA,OACA,SACA,aACA,SACA,OACA,QACA,eACA,QACA,QACA,SACA,UACA,UACA,SACA,SACA,SACA,YACA,UACA,aACA,QACA,SACA,cACA,UACA,OACA,OACA,QACA,gBACA,eACA,WACA,SACA,gBACA,WACA,SACA,SAEDC,MAAO,CACN,SACA,YACA,OACA,SACA,WACA,SACA,UACA,QACA,QACA,UACA,OACA,SACA,aACA,SACA,OACA,QACA,eACA,QACA,QACA,SACA,UACA,UACA,SACA,SACA,SACA,YACA,UACA,aACA,QACA,SACA,cACA,UACA,OACA,OACA,QACA,gBACA,eACA,WACA,SACA,gBACA,SACA,QACA,YACA,gBACA,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","file":"static/js/main.bc48a989.chunk.js","sourcesContent":["import { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles/nav-bar.css';\r\n\r\nfunction NavBar() {\r\n\r\n\tconst hamburger = useRef(null);\r\n\tconst navLinks = useRef(null);\r\n\r\n\tconst showNavLinks = e => {\r\n\r\n\t\tconst hamburderStyle = () => {\r\n\t\t\thamburger.current.childNodes[0].classList.toggle('rotate-pos');\r\n\t\t\thamburger.current.childNodes[1].classList.toggle('hide');\r\n\t\t\thamburger.current.childNodes[2].classList.toggle('rotate-neg');\r\n\t\t}\r\n\r\n\t\thamburderStyle();\r\n\t\tnavLinks.current.classList.toggle('show');\r\n\t\t\r\n\t\tnavLinks.current.childNodes.forEach (i => i.onclick = () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thamburderStyle();\r\n\t\t\t\tnavLinks.current.classList.toggle('show')\r\n\t\t\t}, 100);\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav className=\"nav-bar\">\r\n\t\t\t<div className=\"sub-nav\">\r\n\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\r\n\t\t\t\t\t<div className=\"img\"></div>\r\n\t\t\t\t\t<h1>Anime Web</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<ul className=\"nav-links\" ref={navLinks}>\r\n\t\t\t\t\t<li><Link to=\"/top/anime\">Anime</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/top/manga\">Manga</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/top/characters\">Characters</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/top/people\">People</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/genre\">Genre</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/season\">Season</Link></li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div className=\"nav-hamburger\" ref={hamburger} onClick={showNavLinks}>\r\n\t\t\t\t\t<div className=\"line\"></div>\r\n\t\t\t\t\t<div className=\"line\"></div>\r\n\t\t\t\t\t<div className=\"line\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default NavBar;","export function get(url, callback) {\r\n    return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url);\r\n\r\n\t\tconst progressBar = document.getElementById('progress-bar');\r\n\t\txhr.onloadstart = () => {\r\n\t\t\tprogressBar.style.display = 'block';\r\n\t\t\tprogressBar.style.animation = 'progress-bar 1s linear infinite';\r\n\t\t}\r\n\t\txhr.onloadend = () => {\r\n\t\t\tprogressBar.style.animation = '';\r\n\t\t\tprogressBar.style.display = '';\r\n\t\t}\r\n\t\t\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n                resolve(xhr.responseText);\r\n            }\r\n        }\r\n\r\n        xhr.onerror = () => {\r\n            reject(xhr.responseText);\r\n        }\r\n\r\n        xhr.send();\r\n\t\t\r\n\t\tif (!callback) return;\r\n\t\tcallback(xhr);\r\n    })\r\n}","import { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as xhr from '../../utils/xhr';\r\n\r\nfunction Carousel(props) {\r\n\r\n\tconst { title, type, subtype  } = props;\r\n\tconst [items, setItems] = useState([]);\r\n\tconst carousel = useRef(null);\r\n\tconst prevBtn = useRef(null);\r\n\tconst nextBtn = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst fetchData = () => {\r\n\t\t\tconst apiUrl = `https://api.jikan.moe/v3/top/${type}/1${subtype ? '/' + subtype : ''}`;\r\n\t\t\txhr.get(apiUrl).then(response => {\r\n\t\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\t\tsetItems(parsed.top);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t\t}\r\n\t\tfetchData();\r\n\r\n\t\treturn () => setItems([]);\r\n\r\n\t}, []) // eslint-disable-line\r\n\r\n\tconst carouselItems = items?.map((item, index) => (\r\n\t\t<Link to={`/item-page/${type}/${item.mal_id}`} key={index} className=\"carousel-item\">\r\n\t\t\t<div className=\"img-container\">\r\n\t\t\t\t<div className=\"img\" style={{backgroundImage: `url('${item.image_url}')`}} />\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t<p>{ item.title }</p>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t({ item.episodes || item.volumes || 0 } { type === 'anime' ? 'eps' : 'vols' })\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t))\r\n\r\n\tconst showBtns = e => {\r\n\t\tconst scrollLeft = e.target.scrollLeft;\r\n\t\tif (scrollLeft === 0) {\r\n\t\t\tprevBtn.current.style.display = 'none';\r\n\t\t}\r\n\t\tif (scrollLeft === 7344) {\r\n\t\t\tnextBtn.current.style.display = 'none';\r\n\t\t}\r\n\t\tif (scrollLeft > 0 && scrollLeft < 7344) {\r\n\t\t\tprevBtn.current.style.display = '';\r\n\t\t\tnextBtn.current.style.display = '';\r\n\t\t}\r\n\t}\r\n\r\n\tconst prev = e => {\r\n\t\tconst scrollLeft = carousel.current.scrollLeft;\r\n\t\tcarousel.current.scrollTo(scrollLeft - 300, 0);\r\n\t}\r\n\r\n\tconst next = e => {\r\n\t\tconst scrollLeft = carousel.current.scrollLeft;\r\n\t\tcarousel.current.scrollTo(scrollLeft + 300, 0);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"carousel-container\">\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t<h2>{ title }</h2>\r\n\t\t\t\t<Link to={`top/${type}${subtype ? '/' + subtype : ''}`}>See more</Link>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"carousel\">\r\n\t\t\t\t<button className=\"prev\" onClick={prev} ref={prevBtn} style={{display: 'none'}}>\r\n\t\t\t\t\t<i className=\"material-icons\">navigate_before</i>\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"carousel-items\" ref={carousel} onScroll={showBtns}>\r\n\t\t\t\t\t{ carouselItems }\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"next\" onClick={next} ref={nextBtn}>\r\n\t\t\t\t\t<i className=\"material-icons\">navigate_next</i>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Carousel;","import { useEffect } from 'react';\r\nimport Carousel from './Carousel';\r\nimport './styles/home.css';\r\n\r\nfunction Home(props) {\r\n\r\n\tuseEffect(() => document.title = 'Anime Web', [])\r\n\r\n\treturn (\r\n\t\t<main className=\"home\">\r\n\t\t\t<Carousel title=\"Top Airing Anime\" type=\"anime\" subtype=\"airing\" />\r\n\t\t\t<Carousel title=\"Popular Manga\" type=\"manga\" subtype=\"\" />\r\n\t\t\t<Carousel title=\"Top Upcoming Anime\" type=\"anime\" subtype=\"upcoming\" />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Home;","import './to-top-btn.css'\r\n\r\nfunction ToTopBtn(props) {\r\n\r\n\tconst scrollToTop = () => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\treturn <div\r\n\t\tclassName=\"to-top-btn\" \r\n\t\tonClick={scrollToTop} \r\n\t\ttitle=\"scroll to top of page\"\r\n\t/>\r\n}\r\n\r\nexport default ToTopBtn;","import { useState, useEffect, forwardRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Autocomplete = forwardRef((props, autocomplete) => {\r\n\r\n\tconst { searchHisKey, input, type, filterSubmit, isAdvanceSearch } = props;\r\n\tconst [searches, setSearches] = useState(null);\r\n\tconst [searchHis, setSearchHis] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!localStorage[searchHisKey]) localStorage[searchHisKey] = '[]';\r\n\t\tsetSearches(JSON.parse(localStorage[searchHisKey]))\r\n\t\tconst windowStorage = () => {\r\n\t\t\tlocalStorage[searchHisKey] = '[]';\r\n\t\t}\r\n\t\twindow.addEventListener('storage', windowStorage);\r\n\t}, [localStorage[searchHisKey]]) // eslint-disable-line\r\n\r\n\tconst changeSearchHis = arr => {\r\n\t\tif (!arr) return;\r\n\t\tconst history = arr.map((search, index) => {\r\n\t\t\tconst northWestClick = () => {\r\n\t\t\t\tinput.current.value = search;\r\n\t\t\t\tinput.current.focus();\r\n\t\t\t}\r\n\t\t\tconst clearClick = () => {\r\n\t\t\t\tconst a = document.getElementById('searched-item-a-' + index);\r\n\t\t\t\tconst searchesCopy = searches;\r\n\t\t\t\tconst i = searchesCopy.indexOf(a.textContent);\r\n\t\t\t\tsearchesCopy.splice(i, 1);\r\n\t\t\t\tlocalStorage[searchHisKey] = JSON.stringify(searchesCopy);\r\n\t\t\t\tchangeSearchHis(searchesCopy.filter(i => i.includes(input.current.value.trim())));\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<li key={index}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisAdvanceSearch ?\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tid={`searched-item-a-` + index}\r\n\t\t\t\t\t\t\tonClick={e => filterSubmit(search, type)}\r\n\t\t\t\t\t\t>{ search }</span> :\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tid={`searched-item-a-` + index}\r\n\t\t\t\t\t\t\tto={`/search/${type}?q=${search}&show=0%2C1%2C2`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ search }\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"opts\">\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"material-icons\" \r\n\t\t\t\t\t\t\tonClick={northWestClick}\r\n\t\t\t\t\t\t>north_west</i>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"material-icons\"\r\n\t\t\t\t\t\t\tonClick={clearClick}\r\n\t\t\t\t\t\t>clear</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t})\r\n\t\tsetSearchHis(history);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (!searches) return;\r\n\t\t\r\n\t\tchangeSearchHis(searches);\r\n\r\n\t\tconst handleInput = () => {\r\n\t\t\tchangeSearchHis(\r\n\t\t\t\tsearches.filter(i => i.includes(input.current.value.trim()))\r\n\t\t\t)\r\n\t\t}\r\n\t\tinput.current.addEventListener('input', handleInput);\r\n\r\n\t\tif (searches?.length > 10) {\r\n\t\t\tconsole.log('shifted')\r\n\t\t\tconst shifted = JSON.parse(localStorage[searchHisKey]);\r\n\t\t\tshifted.shift();\r\n\t\t\tlocalStorage.setItem(searchHisKey, JSON.stringify(shifted));\r\n\t\t}\r\n\t\t\r\n\t}, [type, searches]) // eslint-disable-line\r\n\r\n\treturn <ul className=\"srch-autocomplete\" ref={autocomplete}>{ searchHis }</ul>;\r\n})\r\n\r\nexport default Autocomplete;","export function addParam(name, value) {\r\n    let url = new URL(window.location);\r\n\turl.searchParams.append(name, value);\r\n\turl.searchParams.set(name, value);\r\n    return url;\r\n}\r\n\r\nexport function addMultiParams(data) {\r\n    let url = new URL(window.location);\r\n\tfor (let i = 0; i < data.length; i++) {\r\n\t\turl.searchParams.append(data[i].name, data[i].value);\r\n\t\turl.searchParams.set(data[i].name, data[i].value);\r\n\t}\r\n\treturn url;\r\n}\r\n\r\nexport function editParam(name, value) {\r\n    let url = new URL(window.location);\r\n\turl.searchParams.set(name, value);\r\n    return url;\r\n}\r\n\r\nexport function editMultiParams(data) {\r\n    let url = new URL(window.location);\r\n\tfor (let i = 0; i < data.length; i++) {\r\n\t\turl.searchParams.set(data[i].name, data[i].value);\r\n\t}\r\n\treturn url;\r\n}\r\n\r\nexport function querys() {\r\n    const paramsObj = {};\r\n    window.location.search.slice(1).split('&').forEach(p => {\r\n        const split = p.split('=');\r\n        paramsObj[split[0]] = split[split.length - 1];\r\n    });\r\n    return paramsObj;\r\n}\r\n\r\nexport function paths() {\r\n    return window.location.pathname.slice(1).split('/')\r\n}","export const types = {\r\n\tanime: [\r\n\t\t'none',\r\n\t\t'tv',\r\n\t\t'ova',\r\n\t\t'movie',\r\n\t\t'special',\r\n\t\t'ona',\r\n\t\t'music'\r\n\t],\r\n\tmanga: [\r\n\t\t'none',\r\n\t\t'manga',\r\n\t\t'novel',\r\n\t\t'oneshot',\r\n\t\t'doujin',\r\n\t\t'manhwa',\r\n\t\t'manhua'\r\n\t]\r\n} \r\n\r\nexport const statuses = {\r\n\tanime: [\r\n\t\t'none',\r\n\t\t'airing',\r\n\t\t'completed',\r\n\t\t'upcoming'\r\n\t],\r\n\tmanga: [\r\n\t\t'none',\r\n\t\t'publishing',\r\n\t\t'completed',\r\n\t\t'upcoming'\r\n\t]\r\n}\r\n\r\nexport const ratings = [\r\n\t'none',\r\n\t'g',\r\n\t'pg',\r\n\t'pg13',\r\n\t'r17',\r\n\t'r',\r\n\t'rx',\r\n]\r\n\r\nexport const orderBys = {\r\n\tanime: [\r\n\t\t'none',\r\n\t\t'title',\r\n\t\t'start_date',\r\n\t\t'end_date',\r\n\t\t'score',\r\n\t\t'type',\r\n\t\t'members',\r\n\t\t'id',\r\n\t\t'episodes',\r\n\t\t'rating',\r\n\t],\r\n\tmanga: [\r\n\t\t'none',\r\n\t\t'title',\r\n\t\t'start_date',\r\n\t\t'end_date',\r\n\t\t'score',\r\n\t\t'type',\r\n\t\t'members',\r\n\t\t'id',\r\n\t\t'chapters',\r\n\t\t'volumes',\r\n\t]\r\n}\r\n\r\nexport const sorts = [\r\n\t'none',\r\n\t'ascending',\r\n\t'descending'\r\n]\r\n\r\nexport const genres = {\r\n\tanime: [\r\n\t\t'Action',\r\n\t\t'Adventure',\r\n\t\t'Cars',\r\n\t\t'Comedy',\r\n\t\t'Dementia',\r\n\t\t'Demons',\r\n\t\t'Mystery',\r\n\t\t'Drama',\r\n\t\t'Ecchi',\r\n\t\t'Fantasy',\r\n\t\t'Game',\r\n\t\t'Hentai',\r\n\t\t'Historical',\r\n\t\t'Horror',\r\n\t\t'Kids',\r\n\t\t'Magic',\r\n\t\t'Martial Arts',\r\n\t\t'Mecha',\r\n\t\t'Music',\r\n\t\t'Parody',\r\n\t\t'Samurai',\r\n\t\t'Romance',\r\n\t\t'School',\r\n\t\t'Sci Fi',\r\n\t\t'Shoujo',\r\n\t\t'Shoujo Ai',\r\n\t\t'Shounen',\r\n\t\t'Shounen Ai',\r\n\t\t'Space',\r\n\t\t'Sports',\r\n\t\t'Super Power',\r\n\t\t'Vampire',\r\n\t\t'Yaoi',\r\n\t\t'Yuri',\r\n\t\t'Harem',\r\n\t\t'Slice Of Life',\r\n\t\t'Supernatural',\r\n\t\t'Military',\r\n\t\t'Police',\r\n\t\t'Psychological',\r\n\t\t'Thriller',\r\n\t\t'Seinen',\r\n\t\t'Josei'\r\n\t],\r\n\tmanga: [\r\n\t\t'Action',\r\n\t\t'Adventure',\r\n\t\t'Cars',\r\n\t\t'Comedy',\r\n\t\t'Dementia',\r\n\t\t'Demons',\r\n\t\t'Mystery',\r\n\t\t'Drama',\r\n\t\t'Ecchi',\r\n\t\t'Fantasy',\r\n\t\t'Game',\r\n\t\t'Hentai',\r\n\t\t'Historical',\r\n\t\t'Horror',\r\n\t\t'Kids',\r\n\t\t'Magic',\r\n\t\t'Martial Arts',\r\n\t\t'Mecha',\r\n\t\t'Music',\r\n\t\t'Parody',\r\n\t\t'Samurai',\r\n\t\t'Romance',\r\n\t\t'School',\r\n\t\t'Sci Fi',\r\n\t\t'Shoujo',\r\n\t\t'Shoujo Ai',\r\n\t\t'Shounen',\r\n\t\t'Shounen Ai',\r\n\t\t'Space',\r\n\t\t'Sports',\r\n\t\t'Super Power',\r\n\t\t'Vampire',\r\n\t\t'Yaoi',\r\n\t\t'Yuri',\r\n\t\t'Harem',\r\n\t\t'Slice Of Life',\r\n\t\t'Supernatural',\r\n\t\t'Military',\r\n\t\t'Police',\r\n\t\t'Psychological',\r\n\t\t'Seinen',\r\n\t\t'Josei',\r\n\t\t'Doujinshi',\r\n\t\t'Gender Bender',\r\n\t\t'Thriller'\r\n\t]\r\n}","import { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as url from './../../utils/url';\r\nimport * as filter from './filterValue';\r\nimport './styles/advance-search.css';\r\n\r\nfunction Filter(props) {\r\n\r\n\tconst { input, setFilterSubmit, type } = props;\r\n\tconst [genres, setGenres] = useState([]);\r\n\tconst [selectedGenre, setSelectedGenre] = useState([]);\r\n\tconst [excludeGenres, setExcludeGenres] = useState(false);\r\n\tconst [filterValue, setFilterValue] = useState({});\r\n\tconst thumb = useRef(null);\r\n\tconst typeOf = useRef(null);\r\n\tconst status = useRef(null);\r\n\tconst rated = useRef(null);\r\n\tconst orderBy = useRef(null);\r\n\tconst sort = useRef(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst changeGenre = (e, index) => {\r\n\t\tconst checked = e.target.checked;\r\n\t\tconst genreCopy = selectedGenre;\r\n\t\tif (checked) {\r\n\t\t\tgenreCopy.push(index);\r\n\t\t} else {\r\n\t\t\tgenreCopy.splice(genreCopy.indexOf(index), 1);\r\n\t\t}\r\n\t\tsetSelectedGenre(genreCopy);\r\n\t}\r\n\r\n\tconst excludeSelected = e => {\r\n\t\tthumb.current.classList.toggle('exclude');\r\n\t\tsetExcludeGenres(excludeGenres ? false : true);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst select = (items, key) => {\r\n\t\t\tconst filterValueCopy = filterValue;\r\n\t\t\tfilterValue[key] = items?.map(\r\n\t\t\t\t(item, index) => <option key={index} value={item}>{item}</option>\r\n\t\t\t)\r\n\t\t\tsetFilterValue(filterValueCopy);\r\n\t\t};\r\n\r\n\t\tconst checkboxes = () => {\r\n\t\t\tconst genres = filter.genres[type]?.map((item, index) => (\r\n\t\t\t\t<div key={index} className=\"checkbox\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tvalue={item}\r\n\t\t\t\t\t\tonChange={e => changeGenre(e, index)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label>{ item }</label>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t\tsetGenres(genres)\r\n\t\t}\r\n\r\n\t\tselect(filter.types[type], 'type');\r\n\t\tselect(filter.statuses[type], 'status');\r\n\t\tselect(filter.ratings, 'rated');\r\n\t\tselect(filter.orderBys[type], 'orderBy');\r\n\t\tselect(filter.sorts, 'sort');\r\n\t\tcheckboxes();\r\n\r\n\t\tsetFilterSubmit(() => filterBtnClick);\r\n\r\n\t}, [type]) // eslint-disable-line\r\n\r\n\tconst filterBtnClick = (value, type, go=true) => {\r\n\t\tif (value.length < 4) return alert('Input value must be at least 4 characters long');\r\n\t\tlet querys = [\r\n\t\t\t{name: 'q', value: value},\r\n\t\t\t{name: 'typeOf', value: typeOf.current.value === 'none' ? '' : typeOf.current.value},\r\n\t\t\t{name: 'status', value: status.current.value === 'none' ? '' : status.current.value},\r\n\t\t\t{name: 'rated', value: rated.current.value === 'none' ? '' : rated.current.value},\r\n\t\t\t{name: 'order_by', value: orderBy.current.value === 'none' ? '' : orderBy.current.value},\r\n\t\t\t{name: 'sort', value: sort.current.value === 'none' ? '' : sort.current.value},\r\n\t\t\t{name: 'genre', value: selectedGenre.join(',')},\r\n\t\t\t{name: 'genre_exclude', value: excludeGenres ? 0 : 1},\r\n\t\t\t{name: 'show', value: '0,1,2'}\r\n\t\t];\r\n\t\tconst search = `/search/${type}${url.addMultiParams(querys).search}`;\r\n\t\tif (go) history.push(search)\r\n\t\treturn search;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"search-filter\">\r\n\t\t\t<div className=\"search-select\">\r\n\t\t\t\t<label htmlFor=\"type\">Type</label>\r\n\t\t\t\t<select name=\"type\" ref={typeOf}>\r\n\t\t\t\t\t{ filterValue.type }\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search-select\">\r\n\t\t\t\t<label htmlFor=\"statuses\">Status</label>\r\n\t\t\t\t<select name=\"statuses\" ref={status}>\r\n\t\t\t\t\t{ filterValue.status }\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search-select\">\r\n\t\t\t\t<label htmlFor=\"ratings\">Rated</label>\r\n\t\t\t\t<select name=\"ratings\" ref={rated}>\r\n\t\t\t\t\t{ filterValue.rated }\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search-select\">\r\n\t\t\t\t<label htmlFor=\"order-by\">Order by</label>\r\n\t\t\t\t<select name=\"order-by\" ref={orderBy}>\r\n\t\t\t\t\t{ filterValue.orderBy }\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search-select\">\r\n\t\t\t\t<label htmlFor=\"sort\">Sort</label>\r\n\t\t\t\t<select name=\"sort\" ref={sort}>\r\n\t\t\t\t\t{ filterValue.sort }\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search-genre\">\r\n\t\t\t\t<div className=\"switch\">\r\n\t\t\t\t\t<p>Include Selected</p>\r\n\t\t\t\t\t<div className=\"track\" onClick={excludeSelected}>\r\n\t\t\t\t\t\t<div className=\"thumb\" ref={thumb} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>Exclude Selected</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"search-checkboxes\">{ genres }</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"search-filter-btn\" \r\n\t\t\t\tonClick={e => filterBtnClick(input.current.value.trim())}\r\n\t\t\t>Search</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Filter;","import { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport Autocomplete from './Autocomplete';\r\nimport Filter from './../AdvanceSearch/Filter';\r\nimport './styles/form.css';\r\n\r\nfunction Form(props) {\r\n\t\r\n\tconst searchHisKey = 'aw-search-autocomplete';\r\n\tconst [filterSubmit, setFilterSubmit] = useState(() => () => {});\r\n\tconst [type, setType] = useState('anime');\r\n\tconst [currIndex, setCurrIndex] = useState(-1);\r\n\tconst formContainer = useRef(null);\r\n\tconst form = useRef(null);\r\n\tconst input = useRef(null);\r\n\tconst autocomplete = useRef(null);\r\n\tconst select = useRef(null);\r\n\tconst location = useLocation();\r\n\tconst am = type !== 'character' && type !== 'person';\r\n\tconst history = useHistory();\r\n\tconst isAdvanceSearch = location.pathname.startsWith('/advance-search');\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst l = new URL(window.location);\r\n\t\tconst q = l.searchParams.get('q') || '';\r\n\t\t\r\n\t\tinput.current.value = q;\r\n\t\tautocomplete.current.classList.remove('show');\r\n\r\n\t}, [location])\r\n\r\n\tconst showAutocomplete = e => {\r\n\t\te.stopPropagation();\r\n\t\tformContainer.current.classList.add('show-autocomplete');\r\n\t\tconst documentClick = () => {\r\n\t\t\tif (!formContainer.current) return;\r\n\t\t\tformContainer.current.classList.remove('show-autocomplete');\r\n\t\t\tdocument.removeEventListener('click', documentClick);\r\n\t\t}\r\n\t\tdocument.addEventListener('click', documentClick);\r\n\t};\r\n\r\n\tconst inputKeyDown = e => {\r\n\t\tconst searches = autocomplete.current.childNodes;\r\n\t\tconst keyCode = e.keyCode || e.which;\r\n\t\tconst UP = 38;\r\n\t\tconst DOWN = 40;\r\n\t\tif (keyCode === UP) {\r\n\t\t\tsetCurrIndex(currIndex > 0 ? currIndex - 1 : searches.length - 1);\r\n\t\t}\r\n\t\tif (keyCode === DOWN) {\r\n\t\t\tsetCurrIndex(currIndex < searches.length - 1 ? currIndex + 1 : 0);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\ttry {\r\n\t\t\tconst searches = autocomplete.current.childNodes;\r\n\t\t\tsearches.forEach(li => li.classList.remove('targeted'));\r\n\t\t\tsearches[currIndex].classList.add('targeted');\r\n\t\t\tconst a = searches[currIndex].childNodes[0];\r\n\t\t\tinput.current.value = a.textContent;\r\n\t\t} catch(err) { }\r\n\r\n\t}, [currIndex])\r\n\r\n\tconst formSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst value = input.current.value.trim();\r\n\t\tif (value.length < 3) {\r\n\t\t\treturn alert('Input value must be at least 4 characters long');\r\n\t\t}\r\n\t\tif (location.pathname.startsWith('/advance-search')) filterSubmit(value, type);\r\n\t\tconst searches = JSON.parse(localStorage[searchHisKey]);\r\n\t\tconst notSearchBefore = searches.every(\r\n\t\t\ti => i.toLowerCase() !== value.toLowerCase()\r\n\t\t);\r\n\t\tif (notSearchBefore) {\r\n\t\t\tsearches.unshift(value);\r\n\t\t\tlocalStorage[searchHisKey] = JSON.stringify(searches);\r\n\t\t\tformContainer.current.classList.remove('show-autocomplete');\r\n\t\t}\r\n\t\tif (location.pathname.startsWith('/advance-search')) return;\r\n\t\thistory.push(`/search/${select.current.value}?q=${value}${am ? '&show=0%2C1%2C2' : ''}`)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tselect.current.addEventListener('change', e => setType(e.target.value));\r\n\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"search-form-container\" ref={formContainer}>\r\n\t\t\t\t<select ref={select}>\r\n\t\t\t\t\t<option value=\"anime\">Anime</option>\r\n\t\t\t\t\t<option value=\"manga\">Manga</option>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!isAdvanceSearch &&\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t<option value=\"character\">Character</option>\r\n\t\t\t\t\t\t<option value=\"person\">Person</option>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t</select>\r\n\t\t\t\t<form\r\n\t\t\t\t\tref={form}\r\n\t\t\t\t\tclassName=\"search-form\" \r\n\t\t\t\t\tonSubmit={formSubmit} \r\n\t\t\t\t\tonClick={showAutocomplete}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={input} \r\n\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tplaceholder=\"Search...\"\r\n\t\t\t\t\t\tonKeyDown={inputKeyDown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\">\r\n\t\t\t\t\t\t<i className=\"material-icons\">search</i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tref={autocomplete} \r\n\t\t\t\t\t\tinput={input}\r\n\t\t\t\t\t\tsearchHisKey={searchHisKey}\r\n\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\tfilterSubmit={filterSubmit}\r\n\t\t\t\t\t\tisAdvanceSearch={isAdvanceSearch}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tlocation.pathname.startsWith('/advance-search') &&\r\n\t\t\t\t<Filter\r\n\t\t\t\t\tinput={input}\r\n\t\t\t\t\tsetFilterSubmit={setFilterSubmit}\r\n\t\t\t\t\ttype={type}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Form;","import { Link, useLocation } from 'react-router-dom';\r\nimport Form from './../MainForm/Form';\r\nimport './styles/header.css';\r\n\r\nfunction Header() {\r\n\r\n\tconst location = useLocation();\r\n\r\n    return (\r\n        <header style={{display: location.pathname.startsWith('/advance-search') ? 'none' : null}}>\r\n            <div className=\"sub-header\">\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<Form />\r\n\t\t\t\t\t<Link className=\"advance-search-link\" to=\"/advance-search\">Advance Search</Link>\r\n\t\t\t\t</div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import{ useState, useEffect, useRef } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nfunction NavTop() {\r\n    \r\n    const params = useParams();\r\n    const type = params.type || 'anime';\r\n    const subtype = params.subtype || '';\r\n    const [lis, setLis] = useState([]);\r\n\tconst navLinks = useRef([]);\r\n\r\n\tconst changeLis = () => {\r\n\t\tconst subtypes =  {\r\n\t\t\tanime: {\r\n\t\t\t\t'': 'all anime',\r\n\t\t\t\t'/airing': 'airing', \r\n\t\t\t\t'/upcoming': 'upcoming', \r\n\t\t\t\t'/tv': 'tv', \r\n\t\t\t\t'/movie': 'movie', \r\n\t\t\t\t'/ova': 'ova', \r\n\t\t\t\t'/special': 'special', \r\n\t\t\t\t'/bypopularity': 'bypopularity', \r\n\t\t\t\t'/favorite': 'favorite'\r\n\t\t\t},\r\n\t\t\tmanga: {\r\n\t\t\t\t'': 'all manga',\r\n\t\t\t\t'/manga': 'manga', \r\n\t\t\t\t'/novels': 'novels', \r\n\t\t\t\t'/oneshots': 'oneshots', \r\n\t\t\t\t'/doujin': 'doujin', \r\n\t\t\t\t'/manhwa': 'manhwa', \r\n\t\t\t\t'/manhua': 'manhua', \r\n\t\t\t\t'/bypopularity': 'bypopularity', \r\n\t\t\t\t'/favorite': 'favorite'\r\n\t\t\t},\r\n\t\t\tcharacters: {},\r\n\t\t\tpeople: {}\r\n\t\t};\r\n\t\tconst arr = [];\r\n\t\tfor (let i in subtypes[type]) {\r\n\t\t\tarr.push((\r\n\t\t\t\t<li key={i} className={i.slice(1) === subtype ? 'on' : ''}>\r\n\t\t\t\t\t<Link to={`/top/${type}${i}`}>\r\n\t\t\t\t\t\t{ subtypes[type][i] }\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t))\r\n\t\t}\r\n\t\tsetLis(arr);\r\n\t}\r\n\r\n\tuseEffect(() => changeLis(), [type, subtype]) // eslint-disable-line\r\n\r\n    return (\r\n        <nav className=\"top-nav\">\r\n            <ul className=\"sub-top-nav\" ref={navLinks}>\r\n\t\t\t\t{ lis.length ?\r\n\t\t\t\t\tlis :\r\n\t\t\t\t\t<li>No available subtypes for {type}</li> }\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavTop;","const Col3 = ({ type }) => {\r\n\tif (type === 'anime' || type === 'manga') return (\r\n\t\t<td className=\"md\">Score</td>\r\n\t)\r\n\treturn (\r\n\t\t<td className=\"md\">Favorites</td>\r\n\t)\r\n}\r\n\r\nfunction Heading({ type }) {\r\n\r\n\treturn (\r\n\t\t<tr className=\"items-heading\">\r\n\r\n\t\t\t<td className=\"sm\">Rank</td>\r\n\r\n\t\t\t<td className=\"lg\">General</td>\r\n\t\t\t\r\n\t\t\t<Col3 type={type} />\r\n\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nexport default Heading;","export function convertISO8601(str) {\r\n\tconst obj = {};\r\n\tconst date = new Date(str);\r\n\tobj.full = date.toString();\r\n\tobj.year = date.getFullYear();\r\n\tobj.month = date.getMonth();\r\n\tobj.day = date.getDay();\r\n\tobj.date = date.getDate();\r\n\tobj.hour = date.getHours();\r\n\tobj.minute = date.getMinutes();\r\n\tobj.second = date.getSeconds();\r\n\tobj.meridiem = obj.hour > 12 ? 'p.m.' : 'a.m.'\r\n\treturn obj;\r\n}","import { useEffect, useRef, forwardRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as date from './../../utils/date';\r\n\r\nconst ItemInfo = forwardRef((props, ref) => {\r\n\t\r\n\tconst { item, itemInfo, type } = props;\r\n\tconst scoreEl = useRef(null);\r\n\r\n\tconst time = () => {\r\n\t\tconst ISO8601 = itemInfo.published?.from || itemInfo.aired?.from;\r\n\t\tconst d = date.convertISO8601(ISO8601);\r\n\t\treturn (\r\n\t\t\t<div className=\"time\">\r\n\t\t\t\t<p>Start Date: { ISO8601 ? <span>{d.year}/{d.month}/{d.date}</span> : null }</p>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{ type === 'anime' ? 'Duration: ' : 'Chapters: ' }\r\n\t\t\t\t\t{ itemInfo.duration ||\r\n\t\t\t\t\t(itemInfo.chapters && 'Chps: ' + itemInfo.chapters) || \r\n\t\t\t\t\t'none' }\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst genres = () => itemInfo.genres?.length ? itemInfo.genres.map((genre, index) => (\r\n\t\t<span key={index}>\r\n\t\t\t<Link to={`/genre/${genre.type}/${genre.mal_id}`}>{ genre.name }</Link>\r\n\t\t\t{ index !== itemInfo.genres.length - 1 && <>,&nbsp;</>}\r\n\t\t</span>\r\n\t)) : <span>none</span>\r\n\r\n\tconst score = () => {\r\n\t\tif (!item.score) return;\r\n\t\tconst childNodes = scoreEl.current.childNodes;\r\n\t\tconst s = (item.score / 2).toString().split('.');\r\n\t\tconst int = parseInt(s[0]);\r\n\t\tfor (let i = 0; i < int; i++) {\r\n\t\t\tchildNodes[i + 1].classList.add('full');\r\n\t\t}\r\n\t\tif (!childNodes[int + 1]) return;\r\n\t\tconst point = parseInt(s[1]?.length >= 3 ? s[1].slice(1) : s[1]);\r\n\t\tchildNodes[int + 1].style.backgroundImage = `linear-gradient(\r\n\t\t\tto right, #ffe100 ${point}%, #00000000 ${point}%\r\n\t\t)`;\r\n\t}\r\n\r\n\tuseEffect(() => score(), [item.score]); // eslint-disable-line\r\n\r\n\treturn (\r\n\t\t<div className=\"item-info\" ref={ref}>\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t<h3>{ item.title }</h3><span>{ item.type }</span>\r\n\t\t\t</div>\r\n\t\t\t{ time() }\r\n\t\t\t<p className=\"synopsis\">{ itemInfo.synopsis }</p>\r\n\t\t\t<p className=\"genre\">Genre:&nbsp;{ genres() }</p>\r\n\t\t\t<p>Status: { itemInfo.status }</p>\r\n\t\t\t<p className=\"star-score\" ref={scoreEl}>\r\n\t\t\t\tScore:&nbsp;\r\n\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n})\r\n\r\nexport default ItemInfo;","import { useCallback, useEffect, useRef } from \"react\";\r\n\r\nfunction useIsMounted() {\r\n\tconst isMountedRef = useRef(true);\r\n\tconst isMounted = useCallback(() => isMountedRef.current, []);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => void (isMountedRef.current = false);\r\n\t}, []);\r\n\r\n\treturn isMounted;\r\n}\r\n\r\nexport default useIsMounted;","import { useEffect, useRef } from 'react';\r\nimport ItemInfo from './ItemInfo';\r\nimport * as xhr from '../../utils/xhr';\r\nimport useIsMounted from './../../custom-hook/useIsMounted';\r\n\r\nconst fetchInfo = {};\r\n\r\nfunction ShowInfo({ type, item, setItemInfo, itemInfo, img, title }) {\r\n\t\r\n\tconst itemInfoContainer = useRef(null);\r\n\tconst isMounted = useIsMounted();\r\n\r\n\tconst fetchData = () => {\r\n\t\tconst apiUrl = `https://api.jikan.moe/v3/${type}/${item.mal_id}`;\r\n\t\txhr.get(apiUrl).then(response => {\r\n\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\tif (!parsed) return;\r\n\t\t\tfetchInfo[item.mal_id] = parsed;\r\n\t\t\tif (isMounted()) setItemInfo(parsed);\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\t[img, title].forEach(i => {\r\n\r\n\t\t\ti.current.addEventListener('mouseenter', () => {\r\n\r\n\t\t\t\tif (type !== 'anime' && type !== 'manga') return;\r\n\r\n\t\t\t\tconst general = document.querySelector(`#item-${item.mal_id} .lg`);\r\n\t\t\t\r\n\t\t\t\tconst timeoutId = setTimeout(() => {\r\n\t\t\t\t\titemInfoContainer.current?.classList.add('show');\r\n\t\t\t\t\tif (!fetchInfo[item.mal_id]) fetchData();\r\n\t\t\t\t}, 400)\r\n\t\t\t\r\n\t\t\t\tgeneral.onmouseleave = () => {\r\n\t\t\t\t\tclearTimeout(timeoutId);\r\n\t\t\t\t\titemInfoContainer.current?.classList.remove('show');\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\r\n\t\t})\r\n\r\n\t}, []) // eslint-disable-line\r\n\r\n\treturn <ItemInfo ref={itemInfoContainer} item={item} itemInfo={itemInfo} type={type} />\r\n}\r\n\r\nexport default ShowInfo;","import { useState, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Heading from './Heading';\r\nimport ShowInfo from './../../ShowInfo';\r\nimport * as date from './../../../../utils/date';\r\n\r\nconst Ography = ({ data }) =>  data?.length ? data.map((item, index) => (\r\n\t<span key={index}>\r\n\t\t<Link to={`/item-page/${item.type}/${item.mal_id}`}>{ item.name }</Link>\r\n\t\t{ index !== data.length - 1 && <>,&nbsp;</>}\r\n\t</span>\r\n)) : <span style={{display: 'inline-block'}}>none</span>;\r\n\r\nconst Birthday = ({ iso8601 }) => {\r\n\tif (!iso8601) return null;\r\n\tconst d = date.convertISO8601(iso8601);\r\n\treturn <p> Born on { d.year }/{ d.month }/{ d.date } </p>\r\n}\r\n\r\nconst am = type => type === 'anime' || type === 'manga';\r\n\r\nconst Col2 = ({ type, item}) => {\r\n\r\n\tconst [itemInfo, setItemInfo] = useState({});\r\n\tconst img = useRef(null);\r\n\tconst title = useRef(null);\r\n\r\n\tconst BottomPart = () => {\r\n\t\tswitch(type) {\r\n\t\t\tcase 'anime': case 'manga':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{ item.start_date || '?' } ~ { item.end_date || '?' }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{ item.episodes || item.volumes || 'none' }&nbsp;\r\n\t\t\t\t\t\t\t{ type === 'anime' ? <span>Eps</span> : <span>Vols</span>}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\tcase 'character':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p className=\"animeography\">\r\n\t\t\t\t\t\t\t\tAnime:&nbsp;\r\n\t\t\t\t\t\t\t\t<Ography data={item.animeography} />\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"animeography\">\r\n\t\t\t\t\t\t\t\tManga:&nbsp;\r\n\t\t\t\t\t\t\t\t<Ography data={item.mangaography} />\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\t\t\tcase 'person':\r\n\t\t\t\treturn <Birthday iso8601={item.birthday} />\r\n\t\t\tdefault: return null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<td className=\"lg general\">\r\n\t\t\t<div style={{minHeight: '100px'}} />\r\n\t\t\t<Link \r\n\t\t\t\tto={`/item-page/${type}/${item.mal_id}`}\r\n\t\t\t\tclassName=\"img-cont\"\r\n\t\t\t\tref={img}\r\n\t\t\t>\r\n\t\t\t\t<img src={item.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<Link \r\n\t\t\t\t\tto={`/item-page/${type}/${item.mal_id}`}\r\n\t\t\t\t\tclassName=\"title\"\r\n\t\t\t\t\tref={title}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3> { item.title }</h3>&nbsp;\r\n\t\t\t\t\t{ item.type && <span>({ item.type })</span> }\r\n\t\t\t\t\t{ item.name_kanji && <span>({ item.name_kanji })</span> }\r\n\t\t\t\t</Link>\r\n\t\t\t\t<BottomPart />\r\n\t\t\t</div>\r\n\t\t\t<ShowInfo\r\n\t\t\t\ttype={type}\r\n\t\t\t\titem={item}\r\n\t\t\t\tsetItemInfo={itemInfo => setItemInfo(itemInfo)}\r\n\t\t\t\titemInfo={itemInfo}\r\n\t\t\t\timg={img}\r\n\t\t\t\ttitle={title}\r\n\t\t\t/>\r\n\t\t</td>\r\n\t)\r\n}\r\n\r\nconst Col3 = ({ type, item }) => {\r\n\treturn (\r\n\t\t<td\r\n\t\t\tclassName=\"md\"\r\n\t\t\ttitle={am(type) ? 'score' : 'favorites'}\r\n\t\t>\r\n\t\t\t{ item.score || item.favorites || 'none' }\r\n\t\t</td>\r\n\t)\r\n}\r\n\r\nconst Item = ({ type, item }) => {\r\n\r\n\treturn (\r\n\t\t<tr className=\"item\" id={\"item-\" + item.mal_id}>\r\n\t\r\n\t\t\t<td className=\"sm rank\"  title=\"rank\">\r\n\t\t\t\t{ item.rank }\r\n\t\t\t</td>\r\n\t\r\n\t\t\t<Col2 type={type} item={item} />\r\n\t\r\n\t\t\t<Col3 type={type} item={item} />\r\n\t\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nfunction Items({ type, items }) {\r\n\r\n\treturn (\r\n\t\t<table className=\"table-items\">\r\n\t\t\t<tbody>\r\n\t\t\t\t<Heading type={type} />\r\n\t\t\t\t{ items?.map((item, index) => <Item \r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\ttype={type}\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t/>) }\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t)\r\n}\r\n\r\nexport default Items;","import { Link } from 'react-router-dom';\r\n\r\nconst Item = ({ item, type }) => {\r\n\r\n\treturn (\r\n\t\t<Link to={`/item-page/${type}/${item.mal_id}`} className=\"item\">\r\n\t\t\t<div className=\"img\" style={{backgroundImage: `url('${item.image_url}')`}} />\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<div className=\"bottom\">\r\n\t\t\t\t\t<h3>{ item.title }</h3>\r\n\t\t\t\t\t{ item.type && <span>&nbsp;({ item.type })</span> }\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"rank\" style={{fontSize: item.rank?.toString().length > 3 ? '10px' : null}}>\r\n\t\t\t\t<span>{ item.rank }</span>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nfunction Items({ type, items }) {\r\n\r\n\treturn (\r\n\t\t<div className=\"items-sm\">\r\n\t\t\t{\r\n\t\t\t\titems.map((item, index) => (\r\n\t\t\t\t\t<Item key={index} item={item} type={type} />\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Items;","import { useState, useEffect } from 'react';\r\nimport MoreThan700 from './moreThan700/Items';\r\nimport LessThan700 from './lessThan700/Items';\r\n\r\nfunction Items({ type, items }) {\r\n\r\n\tconst [data, setData] = useState([]);\r\n\tconst [innerWidthSize, setInnerWidthSize] = useState(null);\r\n\r\n\tconst linkType = (type) => {\r\n\t\tif (type === 'characters') return 'character';\r\n\t\tif (type === 'people') return 'person';\r\n\t\treturn type;\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tconst changeInnerWidthSize = () => {\r\n\r\n\t\t\tif (window.innerWidth <= 700) {\r\n\t\t\t\tsetInnerWidthSize('small');\r\n\t\t\t} else {\r\n\t\t\t\tsetInnerWidthSize('big');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tchangeInnerWidthSize();\r\n\r\n\t\twindow.addEventListener('resize', changeInnerWidthSize);\r\n\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst abortController = new AbortController();\r\n\r\n\t\tif (innerWidthSize === 'small') {\r\n\t\t\tsetData(<LessThan700 originalType={type} type={linkType(type)} items={items} />);\r\n\t\t} else if (innerWidthSize === 'big') {\r\n\t\t\tsetData(<MoreThan700 originalType={type} type={linkType(type)} items={items} />);\r\n\t\t}\r\n\r\n\t\treturn () => abortController.abort();\r\n\r\n\t}, [innerWidthSize, items]) // eslint-disable-line\r\n\r\n\treturn data;\r\n}\r\n\r\nexport default Items;","import { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Items from './../Items/Top/Items';\r\nimport * as xhr from './../../utils/xhr';\r\nimport * as url from './../../utils/url';\r\n\r\nfunction TopItems({ type, subtype }) {\r\n\r\n\tconst querys = url.querys();\r\n\tconst page = querys.page || 1;\r\n\tconst [items, setItems] = useState([]);\r\n\tconst history = useHistory();\r\n\t\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tconst abortController = new AbortController();\r\n\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst apiUrl = `https://api.jikan.moe/v3/top/${type}/${page}${subtype ? '/' + subtype : ''}`;\r\n\t\t\tconst response = await xhr.get(apiUrl);\r\n\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\tsetItems(parsed.top);\r\n\t\t};\r\n\t\tfetchData();\r\n\r\n\t\treturn () => {\r\n\t\t\tabortController.abort();\r\n\t\t\tsetItems([]);\r\n\t\t}\r\n\r\n\t}, [type, page, subtype]) // eslint-disable-line\r\n\r\n\tconst nextPage = () => {\r\n\t\thistory.push({\r\n\t\t\tpathname: `/top/${type}${subtype ? '/' + subtype : ''}`,\r\n\t\t\tsearch: `?page=${parseInt(page) + 1}`\r\n\t\t})\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\thistory.push({\r\n\t\t\tpathname: `/top/${type}${subtype ? '/' + subtype : ''}`,\r\n\t\t\tsearch: `?page=${parseInt(page) - 1}`\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"page-nav\">\r\n\t\t\t\t{ parseInt(page) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t\t{ items?.length ? <button onClick={nextPage}>Next Page</button> : null}\r\n\t\t\t</div>\r\n\t\t\t<Items type={type} items={items} />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default TopItems;","import { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Nav from './Nav';\r\nimport TopItems from './TopItems';\r\nimport './styles/top.css';\r\n\r\nfunction Top() {\r\n    \r\n\tconst params = useParams();\r\n\tconst type = params.type || 'anime';\r\n\tconst subtype = params.subtype;\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst titlelized = str => str[0].toUpperCase() + str.slice(1);\r\n\r\n\t\tconst t = titlelized(type);\r\n\t\tconst s = subtype;\r\n\r\n\t\tdocument.title = 'Anime Web | Top ' + ( s ? titlelized(s) + ' ' : '' ) + t;\r\n\r\n\t}, [type, subtype])\r\n\r\n    return (\r\n        <main className=\"top-section\">\r\n            <Nav />\r\n\t\t\t<div className=\"content\">\r\n            \t<TopItems type={type} subtype={subtype}/>\r\n\t\t\t</div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Top;","const cols = {\r\n\tanime: [\r\n\t\t'type',\r\n\t\t'episodes',\r\n\t\t'score',\r\n\t\t'start_date',\r\n\t\t'end_date',\r\n\t\t'members',\r\n\t\t'rated'\r\n\t],\r\n\tmanga: [\r\n\t\t'type',\r\n\t\t'volumes',\r\n\t\t'score',\r\n\t\t'start_date',\r\n\t\t'end_date',\r\n\t\t'members',\r\n\t\t'chapters'\r\n\t]\r\n}\r\n\r\nexport default cols;","import { useHistory } from 'react-router-dom';\r\nimport cols from './cols.js';\r\nimport * as url from './../../../../utils/url';\r\n\r\nfunction Heading({ am, querys, type, show }) {\r\n\t\r\n\tconst history = useHistory();\r\n\t\r\n\tconst orderBy = index => {\r\n\t\tlet sort = 'ascending';\r\n\t\tif (querys.order_by === cols[type][index]) sort = querys.sort !== 'ascending' ? 'ascending' : 'descending';\r\n\t\tconst params = [\r\n\t\t\t{name: 'order_by', value: cols[type][index]},\r\n\t\t\t{name: 'sort', value: sort},\r\n\t\t]\r\n\t\thistory.push({\r\n\t\t\tpath: `/${type}/search`,\r\n\t\t\tsearch: url.addMultiParams(params).search\r\n\t\t})\r\n\t}\r\n\r\n\tconst HeadingCols = () => {\r\n\t\treturn cols[type].map((item, index) => show?.includes(index) ? (\r\n\t\t\t<td key={index} className=\"md\" onClick={e => orderBy(index)}>\r\n\t\t\t\t<div className=\"sub-td\">\r\n\t\t\t\t\t<i className=\"material-icons\">unfold_more</i>\r\n\t\t\t\t\t{ item }\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t) : null)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<tr className=\"items-heading\">\r\n\r\n\t\t\t<td className=\"lg\">General</td>\r\n\r\n\t\t\t{ am && <HeadingCols /> }\r\n\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nexport default Heading;","import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport cols from './cols.js'\r\nimport * as url from './../../../../utils/url'\r\n\r\nfunction ShowCol({ type, show }) {\r\n\t\r\n\tconst history = useHistory();\r\n\tconst [display, setDisplay] = useState('none');\r\n\r\n\tconst CheckBoxes = () => {\r\n\t\treturn cols[type].map((item, index) => (\r\n\t\t\t<div key={index} className=\"checkbox\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tvalue={index}\r\n\t\t\t\t\tdefaultChecked={show?.includes(index)}\r\n\t\t\t\t\tonChange={changeShowCol}\r\n\t\t\t\t/>\r\n\t\t\t\t<label>{ item }</label>\r\n\t\t\t</div>\r\n\t\t))\r\n\t}\r\n\r\n\tconst changeShowCol = e => {\r\n\t\tconst value = e.target.value;\r\n\t\tconst checked = e.target.checked;\r\n\t\tconst showArr = show;\r\n\t\tif (checked) {\r\n\t\t\tif (!showArr.includes(value)) showArr.push(value);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst index = showArr.indexOf(parseInt(value));\r\n\t\t\tif (index !== -1) showArr.splice(index, 1);\r\n\t\t}\r\n\t\thistory.push({\r\n\t\t\tpath: `/${type}/search`,\r\n\t\t\tsearch: url.addParam('show', showArr.join(',')).search\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"show-section-btn\">\r\n\t\t\t\t<p onClick={e => setDisplay(display ? '' : 'none')}>Columns</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"show-search-col-section\" style={{display: display}}>\r\n\t\t\t\t<CheckBoxes />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ShowCol;","import { useEffect, useState, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Heading from './Heading';\r\nimport ShowCol from './ShowCol';\r\nimport cols from './cols.js'\r\nimport ShowInfo from './../../ShowInfo';\r\n\r\nconst AltNames = ({ data }) => data?.length ? data.join(', ') : <span>none</span>;\r\n\r\nconst Ography = ({ data }) => data?.length ? data.map((item, index) => (\r\n\t<span key={index}>\r\n\t\t<Link to={`/item-page/${item.type}/${item.mal_id}`}>{ item.name }</Link>\r\n\t\t{ index !== data.length - 1 && <>,&nbsp;</>}\r\n\t</span>\r\n)) : <span style={{display: 'inline-block'}}>none</span>;\r\n\r\nconst am = type => type === 'anime' || type === 'manga';\r\n\r\nconst Col2 = ({ type, item, itemInfo, setItemInfo }) => {\r\n\r\n\tconst img = useRef(null);\r\n\tconst title = useRef(null);\r\n\r\n\tconst BottomPart = () => {\r\n\t\tswitch(type) {\r\n\t\t\tcase 'anime': case 'manga':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{ type === 'anime' ? 'Airing' : 'Publishing' }:&nbsp;\r\n\t\t\t\t\t\t\t{ item.airing?.toString() || item.publishing?.toString() }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>{ item.synopsis }</p>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\tcase 'character': \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tAlternative names:&nbsp;\r\n\t\t\t\t\t\t\t<AltNames data={item.alternative_names} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tAnime:&nbsp;\r\n\t\t\t\t\t\t\t<Ography data={item.anime} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tManga:&nbsp;\r\n\t\t\t\t\t\t\t<Ography data={item.manga} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\tcase 'person':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tAlternative names:&nbsp;\r\n\t\t\t\t\t\t<AltNames data={item.alternative_names} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\tdefault: break;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<td className=\"lg general\">\r\n\t\t\t<div style={{minHeight: '100px'}} />\r\n\t\t\t<Link \r\n\t\t\t\tto={`/item-page/${type}/${item.mal_id}`} \r\n\t\t\t\tclassName=\"img-cont\"\r\n\t\t\t\tref={img}\r\n\t\t\t>\r\n\t\t\t\t<img src={item.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<Link \r\n\t\t\t\t\tto={`/item-page/${type}/${item.mal_id}`} \r\n\t\t\t\t\tclassName=\"title\"\r\n\t\t\t\t\tref={title}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3> { item.title || item.name }</h3>&nbsp;\r\n\t\t\t\t\t{ item.name_kanji && <span>({ item.name_kanji })</span> }\r\n\t\t\t\t</Link>\r\n\t\t\t\t<BottomPart />\r\n\t\t\t</div>\r\n\t\t\t<ShowInfo\r\n\t\t\t\ttype={type}\r\n\t\t\t\titem={item}\r\n\t\t\t\tsetItemInfo={itemInfo => setItemInfo(itemInfo)}\r\n\t\t\t\titemInfo={itemInfo}\r\n\t\t\t\timg={img}\r\n\t\t\t\ttitle={title}\r\n\t\t\t/>\r\n\t\t</td>\r\n\t)\r\n}\r\n\r\nconst Col3 = ({ type, item, show }) => {\r\n\treturn am(type) ? cols[type].map((el, index) => {\r\n\t\tconst value = typeof item[el] === 'string' ?  item[el].split('T')[0] : item[el];\r\n\t\treturn show?.includes(index) ? (\r\n\t\t\t<td\r\n\t\t\t\tkey={index}\r\n\t\t\t\tclassName=\"md\"\r\n\t\t\t\ttitle={el}\r\n\t\t\t>\r\n\t\t\t\t{ value || 'none' }\r\n\t\t\t</td>\r\n\t\t) : null;\r\n\t}) : null;\r\n}\r\n\r\nconst Item = ({ type, item, show }) => {\r\n\r\n\tconst [itemInfo, setItemInfo] = useState({});\r\n\r\n\treturn (\r\n\t\t<tr className=\"item\" id={\"item-\" + item.mal_id}>\r\n\t\r\n\t\t\t<Col2\r\n\t\t\t\ttype={type} \r\n\t\t\t\titem={item} \r\n\t\t\t\titemInfo={itemInfo}\r\n\t\t\t\tsetItemInfo={itemInfo => setItemInfo(itemInfo)} \r\n\t\t\t/>\r\n\r\n\t\t\t<Col3\r\n\t\t\t\ttype={type} \r\n\t\t\t\titem={item}\r\n\t\t\t\tshow={show}\r\n\t\t\t/>\r\n\t\r\n\t\t</tr>\r\n\t)\r\n}\r\n\r\nfunction Items({ type, data, querys }) {\r\n\t\r\n\tconst [items, setItems] = useState([]);\r\n\tconst show = querys?.show === '' ? [] : querys?.show?.split('%2C').map(i => parseInt(i));\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst changeItems = () => {\r\n\t\t\tsetItems(\r\n\t\t\t\tdata?.map((item, index) => <Item\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\ttype={type} \r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tshow={show}\r\n\t\t\t\t/>)\r\n\t\t\t)\r\n\t\t}\r\n\t\tchangeItems();\r\n\r\n\t}, [data, querys]) // eslint-disable-line\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ am(type) && <ShowCol type={type} show={show} /> }\r\n\t\t\t{ data ?\r\n\t\t\t<table className=\"table-items\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<Heading type={type} show={show} querys={querys} am={am(type)} />\r\n\t\t\t\t\t{ items }\r\n\t\t\t\t</tbody>\r\n\t\t\t</table> : null }\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Items;","import { Link } from 'react-router-dom';\r\n\r\nconst Item = ({ item, type }) => {\r\n\treturn (\r\n\t\t<Link to={`/item-page/${type}/${item.mal_id}`} className=\"item\">\r\n\t\t\t<div className=\"img\" style={{backgroundImage: `url('${item.image_url}')`}} />\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<div className=\"bottom\">\r\n\t\t\t\t\t<h3>{ item.title || item.name }</h3>\r\n\t\t\t\t\t{ item.type && <span>&nbsp;({ item.type })</span> }\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nfunction Items({ data, type }) {\r\n\r\n\treturn (\r\n\t\t<div className=\"items-sm\">\r\n\t\t\t{ data?.map((item, index) => (\r\n\t\t\t\t<Item key={index} item={item} type={type} />\r\n\t\t\t)) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Items;","export default __webpack_public_path__ + \"static/media/umaru-chan-sad.93090c41.png\";","import { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport MoreThan700 from './moreThan700/Items';\r\nimport LessThan700 from './lessThan700/Items';\r\nimport umaruSad from './../../../assets/umaru-chan-sad.png';\r\nimport * as url from './../../../utils/url';\r\n\r\nfunction Items({ type, data }) {\r\n\r\n\tconst [items, setItems] = useState([]);\r\n\tconst [innerWidthSize, setInnerWidthSize] = useState(null);\r\n\tconst [querys, setQuerys] = useState({});\r\n\tconst location = useLocation();\r\n\r\n\tconst linkType = type => {\r\n\t\tif (type === 'characters') return 'character';\r\n\t\tif (type === 'people') return 'person';\r\n\t\treturn type;\r\n\t}\r\n\r\n\tuseEffect(() => setQuerys(url.querys()), [location]);\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tconst changeInnerWidthSize = () => {\r\n\r\n\t\t\tif (window.innerWidth <= 700) {\r\n\t\t\t\tsetInnerWidthSize('small');\r\n\t\t\t} else {\r\n\t\t\t\tsetInnerWidthSize('big');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tchangeInnerWidthSize();\r\n\r\n\t\twindow.addEventListener('resize', changeInnerWidthSize);\r\n\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (innerWidthSize === 'small') {\r\n\t\t\tsetItems(<LessThan700 type={linkType(type)} data={data} querys={querys} />)\r\n\t\t} else if (innerWidthSize === 'big') {\r\n\t\t\tsetItems(<MoreThan700 type={linkType(type)} data={data} querys={querys} />)\r\n\t\t}\r\n\r\n\t\treturn () => setItems([]);\r\n\r\n\r\n\t}, [innerWidthSize, data, querys]) // eslint-disable-line\r\n\r\n\treturn data ? items : <div className=\"no-result-container\">\r\n\t\t<h1>No results for \"{ querys.q?.replace(/%20/g, ' ') }\"</h1>\r\n\t\t<ul>\r\n\t\t\t<li>Try changing the search input</li>\r\n\t\t\t<li>Try changing the type</li>\r\n\t\t</ul>\r\n\t\t<div className=\"img-cont\">\r\n\t\t\t<img src={umaruSad} alt=\"\" />\r\n\t\t\t<div className=\"img-cover\" />\r\n\t\t</div>\r\n\t</div>;\r\n}\r\n\r\nexport default Items;","import { useState, useEffect } from 'react';\r\nimport Items from './../Items/Search/Items';\r\nimport * as xhr from '../../utils/xhr';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport * as url from './../../utils/url';\r\n\r\nfunction SearchItems(props) {\r\n\t\r\n\tconst { querys } = props;\r\n\tconst [data, setData] = useState([]);\r\n\tconst params = useParams();\r\n\tconst type = params.type || 'anime';\r\n\tconst history = useHistory();\r\n\r\n\tconst { q, typeOf, status, rated, order_by, sort, genre, genre_exclude } = querys;\r\n\tconst page = querys.page || 1;\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tlet componentMounted = true;\r\n\r\n\t\tconst apiUrl = () => {\r\n\t\t\tconst t = typeOf ? `&type=${typeOf}` : '';\r\n\t\t\tconst st = status ? `&status=${status}` : '';\r\n\t\t\tconst r = rated ? `&rated=${rated}` : '';\r\n\t\t\tconst o = order_by ? `&order_by=${order_by}` : '';\r\n\t\t\tconst so = sort ? `&sort=${sort}` : '';\r\n\t\t\tconst ig = genre ? `&genre=${genre}` : '';\r\n\t\t\tconst eg = genre_exclude ? `&genre_exclude=${genre_exclude}` : '';\r\n\t\t\treturn `https://api.jikan.moe/v3/search/${type}?q=${q}&page=${page || 1}${t}${st}${r}${o}${so}${ig}${eg}`;\r\n\t\t}\r\n\r\n\t\tconst fetchData = async () => {\r\n\t\t\tif (q === undefined) return;\r\n\t\t\tconst response = await xhr.get(apiUrl());\r\n\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\tif (componentMounted) {\r\n\t\t\t\tsetData(parsed.results?.length ? parsed.results : null);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchData();\r\n\r\n\t\treturn () => {\r\n\t\t\tsetData([]);\r\n     \t\tcomponentMounted = false;\r\n\t\t};\r\n\r\n\t}, [type, q, page, typeOf, status, rated, order_by, sort, genre, genre_exclude])\r\n\r\n\tconst nextPage = () => {\r\n\t\thistory.push({\r\n\t\t\tpathname: `/search/${type}`,\r\n\t\t\tsearch: url.addParam('page', parseInt(page) + 1).search\r\n\t\t})\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\thistory.push({\r\n\t\t\tpathname: `/search/${type}`,\r\n\t\t\tsearch: url.addParam('page', parseInt(page) - 1).search\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"page-nav\">\r\n\t\t\t\t{ parseInt(page) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t\t{ data?.length ? <button onClick={nextPage}>Next Page</button> : null }\r\n\t\t\t</div>\r\n\t\t\t<Items data={data} type={type} />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SearchItems;","import { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport SearchItems from './SearchItems';\r\nimport * as url from '../../utils/url';\r\nimport './styles/search.css';\r\n\r\nfunction Search() {\r\n\r\n\tconst [querys, setQuery] = useState({});\r\n\tconst location = useLocation();\r\n\r\n\tuseEffect(() => setQuery(url.querys()), [location])\r\n\r\n\tuseEffect(() => document.title = 'Anime Web | Search - ' + querys.q, [querys]);\r\n\r\n\treturn (\r\n\t\t<main className=\"search-section\">\r\n\t\t\t<SearchItems querys={querys} />\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default Search;","import { useEffect } from 'react';\r\nimport Form from './../MainForm/Form';\r\nimport './styles/advance-search.css'\r\n\r\nfunction AdvanceSearch(props) {\r\n\r\n\tuseEffect(() => document.title = 'Anime Web | Advance Search', []);\r\n\r\n\treturn (\r\n\t\t<main className=\"advance-search\">\r\n\t\t\t<div className=\"advance-search-container\">\r\n\t\t\t\t<Form searchHisKey=\"aw-search-autocomplete\" />\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default AdvanceSearch;","const genres = {\r\n\tanime: [\r\n\t\t'Action',\r\n\t\t'Adventure',\r\n\t\t'Cars',\r\n\t\t'Comedy',\r\n\t\t'Dementia',\r\n\t\t'Demons',\r\n\t\t'Mystery',\r\n\t\t'Drama',\r\n\t\t'Ecchi',\r\n\t\t'Fantasy',\r\n\t\t'Game',\r\n\t\t'Hentai',\r\n\t\t'Historical',\r\n\t\t'Horror',\r\n\t\t'Kids',\r\n\t\t'Magic',\r\n\t\t'Martial Arts',\r\n\t\t'Mecha',\r\n\t\t'Music',\r\n\t\t'Parody',\r\n\t\t'Samurai',\r\n\t\t'Romance',\r\n\t\t'School',\r\n\t\t'Sci Fi',\r\n\t\t'Shoujo',\r\n\t\t'Shoujo Ai',\r\n\t\t'Shounen',\r\n\t\t'Shounen Ai',\r\n\t\t'Space',\r\n\t\t'Sports',\r\n\t\t'Super Power',\r\n\t\t'Vampire',\r\n\t\t'Yaoi',\r\n\t\t'Yuri',\r\n\t\t'Harem',\r\n\t\t'Slice Of Life',\r\n\t\t'Supernatural',\r\n\t\t'Military',\r\n\t\t'Police',\r\n\t\t'Psychological',\r\n\t\t'Thriller',\r\n\t\t'Seinen',\r\n\t\t'Josei'\r\n\t],\r\n\tmanga: [\r\n\t\t'Action',\r\n\t\t'Adventure',\r\n\t\t'Cars',\r\n\t\t'Comedy',\r\n\t\t'Dementia',\r\n\t\t'Demons',\r\n\t\t'Mystery',\r\n\t\t'Drama',\r\n\t\t'Ecchi',\r\n\t\t'Fantasy',\r\n\t\t'Game',\r\n\t\t'Hentai',\r\n\t\t'Historical',\r\n\t\t'Horror',\r\n\t\t'Kids',\r\n\t\t'Magic',\r\n\t\t'Martial Arts',\r\n\t\t'Mecha',\r\n\t\t'Music',\r\n\t\t'Parody',\r\n\t\t'Samurai',\r\n\t\t'Romance',\r\n\t\t'School',\r\n\t\t'Sci Fi',\r\n\t\t'Shoujo',\r\n\t\t'Shoujo Ai',\r\n\t\t'Shounen',\r\n\t\t'Shounen Ai',\r\n\t\t'Space',\r\n\t\t'Sports',\r\n\t\t'Super Power',\r\n\t\t'Vampire',\r\n\t\t'Yaoi',\r\n\t\t'Yuri',\r\n\t\t'Harem',\r\n\t\t'Slice Of Life',\r\n\t\t'Supernatural',\r\n\t\t'Military',\r\n\t\t'Police',\r\n\t\t'Psychological',\r\n\t\t'Seinen',\r\n\t\t'Josei',\r\n\t\t'Doujinshi',\r\n\t\t'Gender Bender',\r\n\t\t'Thriller'\r\n\t]\r\n}\r\n\r\nexport default genres;","import { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport  * as date from '../../../utils/date';\r\n\r\nconst genres = data => data?.length ? data.map((genre, index) => (\r\n\t<span key={index}>\r\n\t\t<Link to={`/genre/${genre.type}/${genre.mal_id}`}>{ genre.name }</Link>\r\n\t\t{ index !== data.length - 1 && <>,&nbsp;</>}\r\n\t</span>\r\n)) : <span>none</span>;\r\n\r\nconst startDate = da => {\r\n\tif (!da) return <span>none</span>;\r\n\tconst d = date.convertISO8601(da);\r\n\treturn `${d.year}/${d.month}/${d.date} ${d.hour > 12 ? d.hour - 12 : d.hour}:${d.minute.toString().length === 1 ? '0' + d.minute: d.minute}`;\r\n}\r\n\r\nconst people = data => data?.length ? data.map((producer, index) => (\r\n\t<span key={index}>\r\n\t\t<Link to={`/producer/${producer.mal_id}`}>{ producer.name }</Link>\r\n\t\t{ index !== data.length - 1 && <>,&nbsp;</>}\r\n\t</span>\r\n)) : <span>none</span>;\r\n\r\nconst ItemInfo = ({ item }) => {\r\n\r\n\tconst itemInfo = useRef(null);\r\n\t\t\r\n\tconst positionItemInfo = () => {\r\n\t\tconst x = itemInfo.current?.parentElement.offsetLeft;\r\n\t\tif (x > (window.innerWidth / 2)) {\r\n\t\t\titemInfo.current?.classList.remove('right');\r\n\t\t\titemInfo.current?.classList.add('left');\r\n\t\t} else {\r\n\t\t\titemInfo.current?.classList.remove('left');\r\n\t\t\titemInfo.current?.classList.add('right');\r\n\t\t}\r\n\t}\r\n\r\n\tconst showItemInfo = () => {\r\n\t\tconst x = itemInfo.current.parentElement;\r\n\t\tx.onmouseenter = () => {\r\n\t\t\tconst timeoutId = setTimeout(() => {\r\n\t\t\t\titemInfo.current?.classList.add('show');\r\n\t\t\t}, 300)\r\n\t\t\tx.onmouseleave = () => {\r\n\t\t\t\titemInfo.current?.classList.remove('show');\r\n\t\t\t\tclearTimeout(timeoutId);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tpositionItemInfo();\r\n\t\tshowItemInfo();\r\n\t\twindow.addEventListener('resize', positionItemInfo);\r\n\r\n\t}, [])\r\n\t\r\n\treturn (\r\n\t\t<div className=\"item-info\" ref={itemInfo} onMouseEnter={showItemInfo}>\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t<h3>{ item.title }</h3>\r\n\t\t\t\t<span>{ item.type }</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"time\">\r\n\t\t\t\t<p>Members: { item.members || 'none' }</p>\r\n\t\t\t\t<p>Score: { item.score || 'none' }</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"synopsis\">\r\n\t\t\t\t<p>{ item.synopsis }</p>\r\n\t\t\t</div>\r\n\t\t\t<p>Start Date: { startDate(item.airing_start || item.publishing_start) }</p>\r\n\t\t\t<p className=\"genre\">Genre:&nbsp; { genres(item.genres) }</p>\r\n\t\t\t<p>{ item.producers ? 'Producers' : 'Authors' }: { people(item.producers || item.authors) }</p>\r\n\t\t\t<p>\r\n\t\t\t\t{ item.licensors ? 'Licensors' : 'Serialization' }:&nbsp;\r\n\t\t\t\t{ item.licensors ? \r\n\t\t\t\t\titem.licensors?.length ? item.licensors.join(', ') : 'none' :\r\n\t\t\t\t\titem.serialization?.length ? item.serialization.join(', ') : 'none' }\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction Item({ type, item }) {\r\n\r\n\treturn (\r\n\t\t<div className=\"item\">\r\n\t\t\t<Link to={`/item-page/${type}/${item.mal_id}`} className=\"img-container\">\r\n\t\t\t\t<div className=\"img\" style={{backgroundImage: `url('${item.image_url}')`}} />\r\n\t\t\t\t<div className=\"cover\">\r\n\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t<h3>{ item.title }</h3>\r\n\t\t\t\t\t\t<p>({ item.episodes } eps)</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<ItemInfo item={item} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Items(props) {\r\n\r\n\tconst { type, data } = props;\r\n\tconst [items, setItems] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (!data) return;\r\n\r\n\t\tif (!JSON.stringify(data).startsWith('[')) return;\r\n\r\n\t\tsetItems(\r\n\t\t\tdata?.map((item, index) => (\r\n\t\t\t\t<Item key={index} item={item} type={type} />\r\n\t\t\t))\r\n\t\t)\r\n\r\n\t}, [data]) // eslint-disable-line\r\n\r\n\treturn items || null;\r\n}\r\n\r\nexport default Items;","import { useState, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Items from './../Items/Season-Genre/Items';\r\nimport * as xhr from './../../utils/xhr';\r\n\r\nfunction GenreItems(props) {\r\n    \r\n\tconst { setItemCount, itemCount } = props;\r\n\tconst params = useParams();\r\n\tconst type = params.type || 'anime';\r\n\tconst mal_id = params.mal_id;\r\n\tconst page = params.page || '1';\r\n\tconst [data, setData] = useState([]);\r\n\tconst history = useHistory();\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tconst fetchData = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst apiUrl = `https://api.jikan.moe/v3/genre/${type}/${mal_id}/${page}`;\r\n\t\t\t\tconst response = await xhr.get(apiUrl);\r\n\t\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\t\tconsole.log(parsed)\r\n\t\t\t\tsetItemCount(parsed.item_count);\r\n\t\t\t\tsetData(parsed[type]);\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchData();\r\n\r\n\t\treturn () => setData([]);\r\n\r\n\t}, [type, mal_id, page]) // eslint-disable-line\r\n\r\n\tconst nextPage = () => {\r\n\t\tconst parsedPage = parseInt(page);\r\n\t\thistory.push(`/genre/${type}/${mal_id}/${parsedPage + 1}`);\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\tconst parsedPage = parseInt(page);\r\n\t\thistory.push(`/genre/${type}/${mal_id}/${parsedPage - 1}`);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t{\r\n\t\t\titemCount > 100 &&\r\n\t\t\t<div className=\"page-nav\">\r\n\t\t\t\t{ parseInt(page) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t\t{ data.length ? <button onClick={nextPage}>Next Page</button> : null }\r\n\t\t\t</div>\r\n\t\t}\r\n\t\t<div className=\"box-items\">\r\n\t\t\t<Items data={data} type={type} />\r\n\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default GenreItems;","import { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport genres from './genres';\r\n\r\nfunction ChooseGenre({ mal_id, type }) {\r\n\tconst genreList = useRef(null);\r\n\r\n\tconst genreLinks = () => {\r\n\t\treturn genres[type].map((genre, index) => {\r\n\t\t\tconst linkUrl = `/genre/${type || (index + 1)}/${type && (index + 1)}`;\r\n\t\t\treturn <li key={index}><Link to={linkUrl}>{ genre }</Link></li>;\r\n\t\t})\r\n\t}\r\n\r\n\tconst showGenres = () => genreList.current.classList.toggle('show');\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"genre-type-menu\">\r\n\t\t\t\t<p className=\"label\">Type:</p>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li className={ \"currently-on \"  + (type === 'manga' && 'manga')}/>\r\n\t\t\t\t\t<li><Link to={'/genre/anime'}>anime</Link></li>\r\n\t\t\t\t\t<li><Link to={'/genre/manga'}>manga</Link></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tmal_id && \r\n\t\t\t\t<p onClick={showGenres} className=\"show-genre-btn\">Choose Genres</p>\r\n\t\t\t}\r\n\t\t\t<div className=\"genre-list\" ref={genreList} style={{display: mal_id ? 'none' : ''}}>\r\n\t\t\t\t<ul>{ genreLinks() }</ul>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ChooseGenre;","import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport genres from './genres';\r\nimport GenreItems from './GenreItems';\r\nimport ChooseGenre from './ChooseGenre';\r\nimport './style/genre.css';\r\n\r\nfunction Genre() {\r\n\t\r\n\tconst params = useParams();\r\n\tconst type = params.type || 'anime';\r\n\tconst mal_id = params.mal_id;\r\n\tconst [itemCount, setItemCount] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst titlelized = str => str[0].toUpperCase() + str.slice(1);\r\n\r\n\t\tconst t = titlelized(type);\r\n\r\n\t\tdocument.title = 'Anime Web | ' + (mal_id ? genres[type][mal_id - 1] + ' ' + t : 'Genre');\r\n\r\n\t}, [type, mal_id])\r\n\r\n\treturn (\r\n\t\t<main className=\"genre-section\">\r\n\t\t\t<div className=\"sub-genre-section\">\r\n\t\t\t\t<ChooseGenre type={type} mal_id={mal_id} />\r\n\t\t\t\t{ \r\n\t\t\t\t\tmal_id && \r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Showing results for \"{ genres[type][mal_id - 1] }\"</h2>\r\n\t\t\t\t\t\t<p>( { itemCount } items found )</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{ mal_id && <GenreItems setItemCount={setItemCount} itemCount={itemCount} /> }\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default Genre;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Td = ({ item }) => item.seasons ? item.seasons.map((season, index) => (\r\n\t<td key={index}>\r\n\t\t<Link to={`/season/${item.year}/${season.toLowerCase()}`}>\r\n\t\t\t<p>{ season } { item.year }</p>\r\n\t\t</Link>\r\n\t</td>\r\n)) : null;\r\n\r\nfunction Archive(props) {\r\n\r\n\tconst { data } = props;\r\n\tconst [items, setItems] = useState([]);\r\n\r\n\tuseEffect(() => document.title = 'Anime Web | Season - Archive', [])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (!data) return\r\n\t\t\r\n\t\tif (!JSON.stringify(data).startsWith('[')) return;\r\n\r\n\t\tsetItems(\r\n\t\t\tdata.map((item, index) => (\r\n\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t<Td item={item} />\r\n\t\t\t\t</tr>\r\n\t\t\t))\r\n\t\t)\r\n\r\n\r\n\t}, [data])\r\n\r\n\treturn (\r\n\t\t<table className=\"season-archive-table\">\r\n\t\t\t<tbody>\r\n\t\t\t\t{ items }\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n}\r\n\r\nexport default Archive;","import { useState, useEffect, useRef } from 'react';\r\nimport { Link , useHistory, useLocation } from 'react-router-dom';\r\n\r\nconst DayLinks = ({ isSchedule, day }) => {\r\n\r\n\tconst [lis, setLis] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst arr = [\r\n\t\t\t{value: '', name: 'All'},\r\n\t\t\t{value: '/monday', name: 'Monday'},\r\n\t\t\t{value: '/tuesday', name: 'Tuesday'},\r\n\t\t\t{value: '/wednesday', name: 'Wednesday'},\r\n\t\t\t{value: '/thursday', name: 'Thursday'},\r\n\t\t\t{value: '/saturday', name: 'Saturday'},\r\n\t\t\t{value: '/sunday', name: 'Sunday'},\r\n\t\t\t{value: '/sunday', name: 'Sunday'},\r\n\t\t\t{value: '/other', name: 'Other'},\r\n\t\t\t{value: '/unknown', name: 'Unknown'}\r\n\t\t];\r\n\r\n\t\tsetLis(\r\n\t\t\tarr.map((item, index) => \r\n\t\t\t\t<li key={index} className={item.value === day ? 'on' : null}>\r\n\t\t\t\t\t<Link to={`/season/schedule${item.value}`}>{ item.name }</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t)\r\n\r\n\t}, [day])\r\n\r\n\treturn isSchedule ?\r\n\t\t<div className=\"days\">\r\n\t\t\t<ul>{ lis }</ul>\r\n\t\t</div> : null;\r\n}\r\n\r\nfunction Nav(props) {\r\n\t\r\n\tconst { isSchedule, day, year } = props;\r\n\tconst [height, setHeight] = useState(null);\r\n\tconst history = useHistory();\r\n\tconst select = useRef(null);\r\n\tconst input = useRef(null);\r\n\tconst location = useLocation();\r\n\r\n\tuseEffect(() => input.current.value = year.slice(1), [year])\r\n\r\n\tconst formSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst value = input.current.value.trim();\r\n\t\tif (isNaN(parseInt(value)) ||\r\n\t\t\tvalue.length !== 4) {\r\n\t\t\treturn alert('Please enter a valid year');\r\n\t\t}\r\n\t\thistory.push(`/season/${value}/${select.current.value}`);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst abortController = new AbortController();\r\n\r\n\t\tconst changeHeight = () => {\r\n\r\n\t\t\tif (isSchedule) {\r\n\r\n\t\t\t\tif (window.innerWidth < 564) {\r\n\t\t\t\t\tsetHeight('107px')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetHeight('100px')\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tsetHeight('50px')\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tchangeHeight();\r\n\t\twindow.addEventListener('resize', changeHeight)\r\n\r\n\t\treturn () => abortController.abort();\r\n\r\n\t}, [location, isSchedule])\r\n\r\n\treturn (\r\n\t\t<nav\r\n\t\t\tclassName=\"season-nav\"\r\n\t\t\tstyle={{\r\n\t\t\t\tminHeight: height\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"sub-season-nav\">\r\n\t\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t\t<li><Link to=\"/season\">Season</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/season/later\">Later</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/season/schedule\">Schedule</Link></li>\r\n\t\t\t\t\t<li><Link to=\"/season/archive\">Archive</Link></li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<form onSubmit={formSubmit}>\r\n\t\t\t\t\t<select ref={select}>\r\n\t\t\t\t\t\t<option value=\"winter\">Winter</option>\r\n\t\t\t\t\t\t<option value=\"spring\">Spring</option>\r\n\t\t\t\t\t\t<option value=\"summer\">Summer</option>\r\n\t\t\t\t\t\t<option value=\"fall\">Fall</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<input ref={input} type=\"text\" placeholder=\"Year\" />\r\n\t\t\t\t\t<button type=\"submit\">Go</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<DayLinks isSchedule={isSchedule} day={day} />\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nexport default Nav;","import { useEffect } from 'react';\r\nimport Items from './../Items/Season-Genre/Items';\r\n\r\nfunction Schedule(props) {\r\n\r\n\tconst { data, day } = props;\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst titlelized = str => str[0]?.toUpperCase() + str.slice(1)\r\n\r\n\t\tdocument.title = \r\n\t\t\t'Anime Web | Season - Schedule ' + (day ? '- ' + titlelized(day.slice(1)) : '- All');\r\n\r\n\t}, [day])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Items data={data.monday} type=\"anime\" />\r\n\t\t\t<Items data={data.tuesday} type=\"anime\" />\r\n\t\t\t<Items data={data.wednesday} type=\"anime\" />\r\n\t\t\t<Items data={data.thursday} type=\"anime\" />\r\n\t\t\t<Items data={data.friday} type=\"anime\" />\r\n\t\t\t<Items data={data.saturday} type=\"anime\" />\r\n\t\t\t<Items data={data.sunday} type=\"anime\" />\r\n\t\t\t<Items data={data.other} type=\"anime\" />\r\n\t\t\t<Items data={data.unknown} type=\"anime\" />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Schedule;","import { useState, useEffect } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport Items from './../Items/Season-Genre/Items';\r\nimport Archive from './Archive';\r\nimport Nav from './Nav';\r\nimport Schedule from './Schedule';\r\nimport * as xhr from './../../utils/xhr';\r\nimport './styles/season.css';\r\nimport umaruSad from './../../assets/umaru-chan-sad.png';\r\n\r\nfunction Season() {\r\n\r\n\tconst [data, setData] = useState([]);\r\n\tconst location = useLocation();\r\n\tconst params = useParams();\r\n\tconst day = params.day ? '/' + params.day : '';\r\n\tconst type = params.type ? '/' + params.type : '';\r\n\tconst year = params.year ? '/' + params.year : '';\r\n\tconst season = params.season ? '/' + params.season : '';\r\n\tconst isSchedule = location.pathname.startsWith('/season/schedule');\r\n\tconst isArchive = location.pathname.startsWith('/season/archive');\r\n\tconst isLater = location.pathname.startsWith('/season/later');\r\n\r\n\tconst titlelized = str => str[0]?.toUpperCase() + str.slice(1)\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tdocument.title = !(year && season) ?\r\n\t\t\t'Anime Web | Season' :\r\n\t\t\t`Anime Web | Season - ${year.slice(1)} ${titlelized(season.slice(1))}`;\r\n\r\n\t}, [year, season, day, type])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tlet componentMounted = true;\r\n\t\t\r\n\t\tconst apiUrl = () => {\r\n\t\t\tif (isSchedule) return `https://api.jikan.moe/v3/schedule${day}`;\r\n\t\t\tif (isArchive) return `https://api.jikan.moe/v3/season/archive`;\r\n\t\t\treturn `https://api.jikan.moe/v3/season${year}${season}${type}`;\r\n\t\t}\r\n\r\n\t\tconst fetchData = () => {\r\n\t\t\txhr.get(apiUrl()).then(response => {\r\n\t\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\t\tif (!componentMounted) return;\r\n\t\t\t\tconsole.log(parsed)\r\n\t\t\t\tif (isArchive) return setData(parsed.archive);\r\n\t\t\t\tif (isLater) return setData(parsed.anime);\r\n\t\t\t\tif (isSchedule) return setData(parsed);\r\n\t\t\t\tsetData(parsed.anime.length ? parsed.anime : null);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetData(null);\r\n\t\t\t});\r\n\t\t}\r\n\t\tfetchData();\r\n\r\n\t\treturn () => {\r\n\t\t\tcomponentMounted = false;\r\n\t\t\tsetData([]);\r\n\t\t};\r\n\r\n\t}, [day, type, year, season, isArchive, isLater, isSchedule])\r\n\r\n\tconst Content = () => {\r\n\t\tif (!data) return (\r\n\t\t\t<div className=\"no-result-container\">\r\n\t\t\t\t<h1>No results for the year \"{ year.slice(1) }\"</h1>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Try changing the year</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t\t<img src={umaruSad} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tif (isArchive) return <Archive data={data} />;\r\n\t\tif (isSchedule) return <Schedule data={data} day={day} />;\r\n\t\treturn <Items data={data} type=\"anime\" />;\r\n\t}\r\n\r\n\tconst Title = () => {\r\n\t\tif (!data) return null;\r\n\t\tif (isArchive) return <h2>Archive</h2>;\r\n\t\tconst d = day ? titlelized(day.slice(1)) : 'the week';\r\n\t\tif (isSchedule) return <h2>Schedule for { d }</h2>;\r\n\t\tif (isLater) return <h2>Anime for upcoming season</h2>;\r\n\t\treturn !(year && season) ? \r\n\t\t\t<h2>Current Seasonal Anime</h2> : \r\n\t\t\t<h2>Seasonal Anime for { year.slice(1) } { titlelized(season.slice(1)) }</h2>\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<main className=\"season\">\r\n\t\t\t<Nav isSchedule={isSchedule} day={day} year={year} />\r\n\t\t\t<div className=\"content\" >\r\n\t\t\t\t<div className=\"page-title\">\r\n\t\t\t\t\t<Title />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"box-items\">\r\n\t\t\t\t\t<Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default Season;","const request = {\r\n\tanime: {\r\n\t\t'': 'details',\r\n\t\t'/characters_staff': 'characters & staff',\r\n\t\t'/episodes': 'episodes',\r\n\t\t'/news': 'news',\r\n\t\t'/pictures': 'pictures',\r\n\t\t'/videos': 'videos',\r\n\t\t'/stats': 'stats',\r\n\t\t'/forum': 'forum',\r\n\t\t'/reviews': 'reviews',\r\n\t\t'/recommendations': 'recommendations',\r\n\t\t'/userupdates': 'user updates'\r\n\t},\r\n\tmanga: {\r\n\t\t'': 'details',\r\n\t\t'/characters': 'characters',\r\n\t\t'/news': 'news',\r\n\t\t'/pictures': 'pictures',\r\n\t\t'/stats': 'stats',\r\n\t\t'/forum': 'forum',\r\n\t\t'/reviews': 'reviews',\r\n\t\t'/recommendations': 'recommendations',\r\n\t\t'/userupdates': 'user updates'\r\n\t},\r\n\tcharacter: {\r\n\t\t'': 'details',\r\n\t\t'/pictures': 'pictures',\r\n\t},\r\n\tperson: {\r\n\t\t'': 'details',\r\n\t\t'/pictures': 'pictures',\r\n\t},\r\n};\r\n\r\nexport default request;","import { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport requests from './requests';\r\n\r\nfunction Nav() {\r\n\r\n\tconst { type, mal_id, request } = useParams();\r\n\tconst [lis, setLis] = useState([]);\r\n\r\n\tconst navLinks = () => {\r\n\t\tconst links = [];\r\n\t\tfor (let i in requests[type]) {\r\n\t\t\tlinks.push(\r\n\t\t\t\t<li key={i}  className={(request || '') === i.slice(1) ? 'on' : ''}>\r\n\t\t\t\t\t<Link to={`/item-page/${type}/${mal_id}${i}`}>{ requests[type][i] }</Link>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t}\r\n\t\tsetLis(links);\r\n\t}\r\n\r\n\tuseEffect(() => navLinks(), [type, mal_id, request]); // eslint-disable-line\r\n\r\n\treturn (\r\n\t\t<nav className=\"item-page-nav\">\r\n\t\t\t<ul>\r\n\t\t\t\t{ lis }\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nexport default Nav;","import { Link } from 'react-router-dom';\r\n\t\r\nconst Items = ({ title, data, type }) => (\r\n\t<div className=\"info\">\r\n\t\t<p className=\"sub-title\">{ title }:</p> &nbsp;\r\n\t\t{ data?.length ? data.map((producer, index) => (\r\n\t\t\t<span key={index}>\r\n\t\t\t\t<Link to={`/${type}/${producer.mal_id}`}>{ producer.name }</Link>\r\n\t\t\t\t{ index !== data.length - 1 && <>,&nbsp;</>}\r\n\t\t\t</span>\r\n\t\t)) \r\n\t\t: <p>none</p> }\r\n\t</div>\r\n)\r\n\r\nconst Genres = ({ genres, type }) => (\r\n\t<div className=\"info\">\r\n\t\t<p className=\"sub-title\">Genres:</p> &nbsp;\r\n\t\t{ genres?.length ? genres.map((genre, index) => (\r\n\t\t\t<span key={index}>\r\n\t\t\t\t<Link to={`/genre/${type}/${genre.mal_id}`}>{ genre.name }</Link>\r\n\t\t\t\t{ index !== genres.length - 1 && <>,&nbsp;</>}\r\n\t\t\t</span>\r\n\t\t)) \r\n\t\t: <p>none</p> }\r\n\t</div>\r\n)\r\n\r\nconst Info = ({ title, info }) => (\r\n\t<div className=\"info\">\r\n\t\t<p className=\"sub-title\">{ title }:</p> &nbsp;\r\n\t\t<span>{ info || 'none' }</span>\r\n\t</div>\r\n)\r\n\r\nfunction Information(props) {\r\n\r\n\tconst { type, data } = props;\r\n\r\n\tconst season = data.premiered?.toLowerCase().split(' ') || [];\r\n\r\n\tswitch(type) {\r\n\t\tcase 'anime':\r\n\t\t\treturn (\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h3 className=\"title\">Infomation</h3>\r\n\t\t\t\t\t<Info title=\"Type\" info={data.type} />\r\n\t\t\t\t\t<Info title=\"Episodes\" info={data.episodes} />\r\n\t\t\t\t\t<Info title=\"Status\" info={data.status} />\r\n\t\t\t\t\t<Info title=\"Aired\" info={data.aired?.string} />\r\n\t\t\t\t\t<Info title=\"Broadcast\" info={data.broadcast} />\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Premiered:</p> &nbsp;\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tdata.premiered ?\r\n\t\t\t\t\t\t\t<Link to={`/season/${season[1]}/${season[0]}`}>{ data.premiered }</Link> :\r\n\t\t\t\t\t\t\t<p>none</p>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Items title=\"Producers\" data={data.producers} type=\"producer\" />\r\n\t\t\t\t\t<Items title=\"Licensors\" data={data.licensors} type=\"producer\" />\r\n\t\t\t\t\t<Items title=\"Studios\" data={data.studios} type=\"producer\" />\r\n\t\t\t\t\t<Genres genres={data.genres} type=\"anime\" />\r\n\t\t\t\t\t<Info title=\"Duration\" info={data.duration} />\r\n\t\t\t\t\t<Info title=\"rating\" info={data.rating} />\r\n\t\t\t\t</section>\r\n\t\t\t);\r\n\t\tcase 'manga':\r\n\t\t\treturn (\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h3 className=\"title\">Infomation</h3>\r\n\t\t\t\t\t<Info title=\"Synonyms title\" info={data.title_synonyms?.length && data.title_synonyms.join(', ')} />\r\n\t\t\t\t\t<Info title=\"Type\" info={data.type} />\r\n\t\t\t\t\t<Info title=\"Volumes\" info={data.volumes} />\r\n\t\t\t\t\t<Info title=\"Chapters\" info={data.chapters} />\r\n\t\t\t\t\t<Info title=\"Status\" info={data.status} />\r\n\t\t\t\t\t<Info title=\"Published\" info={data.published?.string} />\r\n\t\t\t\t\t<Genres genres={data.genres} type=\"manga\" />\r\n\t\t\t\t\t<Items data={data.authors} title=\"Authors\" type=\"item-page/person\" />\r\n\t\t\t\t\t<Items data={data.serializations} title=\"Serializations\" type=\"magazine\" />\r\n\t\t\t\t</section>\r\n\t\t\t);\r\n\t\tdefault: return null;\r\n\t}\r\n}\r\n\r\nexport default Information;","import { useState, useEffect, useRef } from 'react';\r\nimport Information from './Information';\r\nimport './../styles/details.css';\r\n\r\nconst Theme = ({ type, data, title }) => {\r\n\tif (type !== 'anime') return null;\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<h3 className=\"title\">{ title }</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t{ data?.length ? data.map((theme, index) => (\r\n\t\t\t\t\t\t<li key={index}>{ theme }</li>\r\n\t\t\t\t\t)) :\r\n\t\t\t\t\t<p>none</p> }\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nfunction Details(props) {\r\n\r\n\tconst { type, data, moreInfo } = props;\r\n\tconst [title, setTitle] = useState(data.title_english);\r\n\tconst thumb = useRef(null);\r\n\r\n\tuseEffect(() => setTitle(data.title_english), [data.title_english]);\r\n\r\n\tconst trackClick = () => {\r\n\t\tthumb.current.classList.toggle('switched');\r\n\t\tsetTitle(\r\n\t\t\ttitle === data.title_japanese ?\r\n\t\t\t\tdata.title_english :\r\n\t\t\t\tdata.title_japanese\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"details-section\">\r\n\t\t\t<section className=\"alt-title\">\r\n\t\t\t\t<h2>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata.title_english && data.title_japanese ?\r\n\t\t\t\t\t\ttitle :\r\n\t\t\t\t\t\tdata.title_english || data.title_japanese\r\n\t\t\t\t\t}\r\n\t\t\t\t</h2>\r\n\t\t\t\t{ data.title_english && data.title_japanese &&\r\n\t\t\t\t<div className=\"switch\">\r\n\t\t\t\t\tEn\r\n\t\t\t\t\t<div className=\"track\" onClick={trackClick}>\r\n\t\t\t\t\t\t<div className=\"thumb\" ref={thumb} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\tJp\r\n\t\t\t\t</div> }\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"statistics\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Rank</p>\r\n\t\t\t\t\t{ data.rank ? <span>#{ data.rank }</span> : <p>none</p> }\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Popularity</p>\r\n\t\t\t\t\t{ data.popularity ? <span>#{ data.popularity }</span> : <p>none</p> }\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Members</p>\r\n\t\t\t\t\t<span>{ data.members || 0 }</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Favorites</p>\r\n\t\t\t\t\t<span>{ data.favorites || 0 }</span>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t{ data.synopsis &&\r\n\t\t\t<section>\r\n\t\t\t\t<h3 className=\"title\">Synopsis</h3>\r\n\t\t\t\t<p>{ data.synopsis }</p>\r\n\t\t\t</section> }\r\n\r\n\t\t\t<Information data={data} type={type} />\r\n\r\n\t\t\t{ data.trailer_url &&\r\n\t\t\t<section className=\"trailer\">\r\n\t\t\t\t<h3 className=\"title\">Trailer</h3>\r\n\t\t\t\t<iframe src={data.trailer_url} title={data.title} />\r\n\t\t\t</section> }\r\n\r\n\t\t\t{ data.background &&\r\n\t\t\t<section>\r\n\t\t\t\t<h3 className=\"title\">Background</h3>\r\n\t\t\t\t<p>{ data.background }</p>\r\n\t\t\t</section> }\r\n\t\t\t\r\n\t\t\t{ moreInfo.moreinfo &&\r\n\t\t\t<section>\r\n\t\t\t\t<h3 className=\"title\">More Info</h3>\r\n\t\t\t\t<p>{ moreInfo.moreinfo }</p>\r\n\t\t\t</section> }\r\n\r\n\t\t\t<Theme type={type} data={data.opening_themes} title=\"Opening Theme\" />\r\n\r\n\t\t\t<Theme type={type} data={data.ending_themes} title=\"Ending Theme\" />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Details;","import { useState, useEffect, useRef } from 'react';\r\n\r\nfunction ShowMore(props) {\r\n\r\n\tconst { className, Items } = props;\r\n\tconst [itemContClassName, setItemContClassName] = useState('');\r\n\tconst [showBtn, setShowBtn] = useState(false);\r\n\tconst itemsCont = useRef(null);\r\n\r\n\tconst handleBtn = e => {\r\n\t\tconst isShowingLess = itemsCont.current.classList.contains('show-all');\r\n\t\te.currentTarget.textContent = isShowingLess ? 'Show More' : 'Show Less';\r\n\t\titemsCont.current.classList.toggle('show-all');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst moreThan400 = itemsCont.current.clientHeight > 400;\r\n\t\t\r\n\t\tsetItemContClassName(\r\n\t\t\tmoreThan400 ? \r\n\t\t\t\tclassName + '  show-limited' :\r\n\t\t\t\tclassName\r\n\t\t)\r\n\r\n\t\tsetShowBtn(moreThan400);\r\n\r\n\t}, []) // eslint-disable-line\r\n\r\n\treturn (\r\n\t\t<div className=\"sub-items-cont\">\r\n\t\t\t<div className={itemContClassName} ref={itemsCont}>\r\n\t\t\t\t{ Items }\r\n\t\t\t</div>\r\n\t\t\t{ showBtn && <button className=\"show-more-btn\" onClick={handleBtn}>Show More</button> }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ShowMore;","import { Link } from 'react-router-dom';\r\nimport ShowMore from './../../../../ShowMore';\r\n\r\nconst Items = ({ data }) => data?.length ? data.map((item, index) => {\r\n\tconst link = `/item-page/person/${item.mal_id}`;\r\n\treturn (\r\n\t\t<div className=\"item alt-bg\" key={index}>\r\n\t\t\t<Link to={link} className=\"img-cont\">\r\n\t\t\t\t<img src={item.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<Link to={link}><h3>{ item.name }</h3></Link>\r\n\t\t\t\t<p>{ item.language || item.role }</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}) : <p>none</p>;\r\n\r\nfunction Character(props) {\r\n\r\n\tconst { data } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Voice Actors</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items data={data.voice_actors} type=\"person\" />} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Animeography</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items data={data.animeography} type=\"anime\" />} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Mangaography</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items data={data.mangaography} type=\"manga\" />} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Character;","import { Link } from 'react-router-dom';\r\nimport ShowMore from './../../../../ShowMore';\r\n\r\nconst Items1 = ({ data, type }) => data?.length ? data.map((item, index) => {\r\n\tconst link = `/item-page/${type}/${item[type].mal_id}`;\r\n\treturn (\r\n\t\t<div className=\"item alt-bg\" key={index}>\r\n\t\t\t<Link to={link} className=\"img-cont\">\r\n\t\t\t\t<img src={item[type].image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<Link to={link}><h3>{ item[type].name }</h3></Link>\r\n\t\t\t\t<p>{ item.position }</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}) : <p>none</p>;\r\n\r\nconst Items2 = ({ data }) => data?.length ? data.map((item, index) => {\r\n\tconst link = `/item-page/person/${item.mal_id}`;\r\n\treturn (\r\n\t\t<div className=\"item var alt-bg\" key={index}>\r\n\t\t\t<div className=\"item-col-1\">\r\n\t\t\t\t<Link to={link} className=\"img-cont\">\r\n\t\t\t\t\t<img src={item.anime.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<Link to={link}><h3>{ item.anime.name }</h3></Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"item-col-2\">\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<Link to={link}><h3>{ item.character.name }</h3></Link>\r\n\t\t\t\t\t<p>{ item.role }</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link to={link} className=\"img-cont\">\r\n\t\t\t\t\t<img src={item.character.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}) : <p>none</p>;\r\n\r\nfunction Person(props) {\r\n\r\n\tconst { data } = props;\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Anime Staff Position</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items1 data={data.anime_staff_positions} type=\"anime\" />} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Published Manga</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items1 data={data.published_manga} type=\"manga\" />} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"items-cont\">\r\n\t\t\t\t<h3 className=\"title\">Voice Acting Roles</h3>\r\n\t\t\t\t<ShowMore className=\"items\" Items={<Items2 data={data.voice_acting_roles} />} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Person;","import Character from './Character';\r\nimport Person from './Person';\r\nimport './../styles/details.css';\r\n\r\nfunction Details(props) {\r\n\r\n\tconst { type, data } = props;\r\n\r\n\tif (!Object.keys(data).length) return;\r\n\r\n\tconst detailPage = {\r\n\t\tcharacter: <Character data={data} />,\r\n\t\tperson: <Person data={data} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className=\"details-section\">\r\n\t\t\t<section>\r\n\t\t\t\t<h3 className=\"first-title\"><span>About</span></h3>\r\n\t\t\t\t<p>{ data.about?.replace(/\\\\n/g, '') || 'unknown' }</p>\r\n\t\t\t</section>\r\n\r\n\t\t\t{ detailPage[type] }\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Details;","import AMDetails from './AM/Details';\r\nimport CPDetails from './CP/Details';\r\n\r\nfunction Details(props) {\r\n\r\n\tconst { type, data, moreInfo } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tswitch(type) {\r\n\t\tcase 'anime':\r\n\t\tcase 'manga':\r\n\t\t\treturn <AMDetails type={type} data={data} moreInfo={moreInfo} />\r\n\t\tcase 'character':\r\n\t\tcase 'person':\r\n\t\t\treturn <CPDetails type={type} data={data} />\r\n\t\tdefault: break;\r\n\t}\r\n}\r\n\r\nexport default Details;","import { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles/characters-staff.css';\r\n\r\nfunction CharactersStaff(props) {\r\n\t\r\n\tconst { data } = props;\r\n\tconst charactersSection = useRef(null);\r\n\tconst staffSection = useRef(null);\r\n\tconst thumb = useRef(null);\r\n\r\n\tconst characters = data.characters?.map((character, index) => {\r\n\t\tconst voiceActors = character.voice_actors?.map((voiceActor, index) => (\r\n\t\t\t<div key={index} className=\"va\">\r\n\t\t\t\t<div className=\"infomation\">\r\n\t\t\t\t\t<Link to={`/item-page/person/${voiceActor.mal_id}`}>{ voiceActor.name }</Link>\r\n\t\t\t\t\t<p>{ voiceActor.language }</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link to={`/item-page/person/${voiceActor.mal_id}`} className=\"img-cont\">\r\n\t\t\t\t\t<img src={voiceActor.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t))\r\n\t\treturn (\r\n\t\t\t<div key={index} className=\"character-container alt-bg\">\r\n\t\t\t\t<div className=\"character\">\r\n\t\t\t\t\t<Link className=\"img-cont\" to={`/item-page/character/${character.mal_id}`}>\r\n\t\t\t\t\t\t<img src={character.image_url} alt=\"\" />\r\n\t\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"infomation\">\r\n\t\t\t\t\t\t<Link to={`/item-page/character/${character.mal_id}`}>{ character.name }</Link>\r\n\t\t\t\t\t\t<p>{ character.role } Role</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"voice-actors\">\r\n\t\t\t\t\t{ voiceActors }\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t});\r\n\r\n\tconst staff = data.staff?.map((person, index) => (\r\n\t\t<div key={index} className=\"person alt-bg\">\r\n\t\t\t<Link to={`/item-page/person/${person.mal_id}`} className=\"img-cont\">\r\n\t\t\t\t<img src={person.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"infomation\">\r\n\t\t\t\t<Link to={`/item-page/person/${person.mal_id}`}>{ person.name }</Link>\r\n\t\t\t\t<p>{ person.positions.join(', ') }</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t))\r\n\r\n\tconst changeSection = () => {\r\n\t\tthumb.current.classList.toggle('switched');\r\n\r\n\t\tcharactersSection.current.style.display = \r\n\t\t\tcharactersSection.current.style.display === 'none' ? \r\n\t\t\t'' : 'none';\r\n\r\n\t\tstaffSection.current.style.display = \r\n\t\t\tstaffSection.current.style.display === 'none' ? \r\n\t\t\t'' : 'none';\r\n\t}\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\treturn (\r\n\t\t<section className=\"characters-staff-section\">\r\n\t\t\t{\r\n\t\t\t\tstaff &&\r\n\t\t\t\t<div className=\"switch\">\r\n\t\t\t\t\t<p>Characters & Voice Actors</p>\r\n\t\t\t\t\t<div className=\"track\" onClick={changeSection}>\r\n\t\t\t\t\t\t<div className=\"thumb\" ref={thumb} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>Staff</p>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<section className=\"characters\" ref={charactersSection}>\r\n\t\t\t\t<h3 className=\"first-title\">Characters & Voice Actors</h3>\r\n\t\t\t\t{ characters }\r\n\t\t\t</section>\r\n\t\t\t<section className=\"staff\" ref={staffSection} style={{display: 'none'}}>\r\n\t\t\t\t<h3 className=\"first-title\">Staff</h3>\r\n\t\t\t\t{ staff }\r\n\t\t\t</section>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default CharactersStaff;","import * as date from '../../../../../../utils/date';\r\n\r\nconst Episodes1 = ({ episodes, lang }) => episodes ? episodes.map((episode, index) => {\r\n\tconst d = date.convertISO8601(episode.aired);\r\n\treturn (\r\n\t\t<tr key={index} className=\"episode\">\r\n\t\t\t<td><div style={{minHeight: '40px'}} /></td>\r\n\t\t\t<td className=\"sm episode-id\"><p>{ episode.episode_id }</p></td>\r\n\t\t\t<td className=\"lg episode-title\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tepisode.video_url &&\r\n\t\t\t\t\t\t<a \r\n\t\t\t\t\t\t\ttarget=\"_blank\" \r\n\t\t\t\t\t\t\trel=\"noreferrer\" \r\n\t\t\t\t\t\t\thref={episode.video_url}\r\n\t\t\t\t\t\t><i className=\"material-icons\">tv</i></a>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{ episode[lang === 'en' ? 'title' : 'title_romanji'] }&nbsp;\r\n\t\t\t\t\t\t{ episode.filler && <>&nbsp;[filler]</> }\r\n\t\t\t\t\t\t{ episode.recap && <>&nbsp;[recap]</> }\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</p>\r\n\t\t\t</td>\r\n\t\t\t<td className=\"md\"><p>{ d.year }/{ d.month }/{ d.date }</p></td>\r\n\t\t\t<td className=\"md\">\r\n\t\t\t\t{ episode.forum_url ?\r\n\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={episode.forum_url}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">forum</i>\r\n\t\t\t\t\t</a> : 'None' }\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t)\r\n}) : null;\r\n\r\nexport default Episodes1;","import * as date from '../../../../../../utils/date';\r\n\r\nconst Episodes2 = ({ episodes, lang }) => episodes ? episodes.map((episode, index) => {\r\n\tconst d = date.convertISO8601(episode.aired);\r\n\treturn (\r\n\t\t<div key={index} className=\"episode\">\r\n\t\t\t<div className=\"left\">\r\n\t\t\t\t<div className=\"episode-title\">\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tepisode.video_url ?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<span>Eps { episode.episode_id } - </span>\r\n\t\t\t\t\t\t\t<a \r\n\t\t\t\t\t\t\t\ttarget=\"_blank\" \r\n\t\t\t\t\t\t\t\trel=\"noreferrer\" \r\n\t\t\t\t\t\t\t\thref={episode.video_url}\r\n\t\t\t\t\t\t\t>{ episode[lang === 'en' ? 'title' : 'title_romanji'] }&nbsp;</a>\r\n\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<span>Epis { episode.episode_id } - </span>\r\n\t\t\t\t\t\t\t<span>{ episode[lang === 'en' ? 'title' : 'title_romanji'] }&nbsp;</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{ episode.filler && <>&nbsp;[filler]</> }\r\n\t\t\t\t\t{ episode.recap && <>&nbsp;[recap]</> }\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<span className=\"right\">{ d.year }/{ d.month }/{ d.date }</span>\r\n\t\t</div>\r\n\t)\r\n}) : null;\r\n\r\nexport default Episodes2;","import { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Type1 from './Episodes/Type1';\r\nimport Type2 from './Episodes/Type2';\r\nimport './styles/episodes.css';\r\n\r\nfunction Episodes(props) {\r\n\t\r\n\tconst { data } = props;\r\n\tconst { type, mal_id, page } = useParams();\r\n\tconst [innerWidthSize, setInnerWidthSize] = useState(null);\r\n\tconst [lang, setLang] = useState('en');\r\n\tconst [episodes, setEpisodes] = useState([]);\r\n\tconst thumb = useRef(null);\r\n\tconst history = useHistory();\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tconst changeInnerWidthSize = () => {\r\n\r\n\t\t\tif (window.innerWidth <= 700) {\r\n\t\t\t\tsetInnerWidthSize('small');\r\n\t\t\t} else {\r\n\t\t\t\tsetInnerWidthSize('big');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tchangeInnerWidthSize();\r\n\r\n\t\twindow.addEventListener('resize', changeInnerWidthSize);\r\n\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (innerWidthSize === 'small') {\r\n\t\t\tsetEpisodes(\r\n\t\t\t\t<div className=\"episodes\">\r\n\t\t\t\t\t<Type2 episodes={data.episodes} lang={lang} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (innerWidthSize === 'big') {\r\n\t\t\tsetEpisodes(\r\n\t\t\t\t<table className=\"episodes\">\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr className=\"episodes-heading\">\r\n\t\t\t\t\t\t\t<td />\r\n\t\t\t\t\t\t\t<td className=\"sm\" onClick={reverse}>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">unfold_more</i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"lg\">Title</td>\r\n\t\t\t\t\t\t\t<td className=\"md\">Aired</td>\r\n\t\t\t\t\t\t\t<td className=\"md\">Forum</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<Type1 episodes={data.episodes} lang={lang} />\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t}, [innerWidthSize, data.episodes, lang]) // eslint-disable-line\r\n\r\n\tconst reverse = () => setEpisodes(\r\n\t\t<table className=\"episodes\">\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr className=\"episodes-heading\">\r\n\t\t\t\t\t<td />\r\n\t\t\t\t\t<td className=\"sm\" onClick={reverse}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">unfold_more</i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"lg\">Title</td>\r\n\t\t\t\t\t<td className=\"md\">Aired</td>\r\n\t\t\t\t\t<td className=\"md\">Forum</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<Type1 episodes={data.episodes.reverse()} lang={lang} />\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);;\r\n\r\n\tconst changeTitle = () => {\r\n\t\tthumb.current.classList.toggle('switched');\r\n\t\tsetLang(lang === 'en' ? '' : 'en');\r\n\t}\r\n\r\n\tconst nextPage = () => history.push(\r\n\t\t`/item-page/${type}/${mal_id}/episodes/${parseInt(page || 1) + 1}`\r\n\t);\r\n\r\n\tconst prevPage = () => history.push(\r\n\t\t`/item-page/${type}/${mal_id}/episodes/${parseInt(page) - 1}`\r\n\t);\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tif (!data.episodes?.length) return <h2>No Episodes</h2>;\r\n\r\n\treturn (\r\n\t\t<section className=\"episodes-section\">\r\n\t\t\t<h3 className=\"first-title\">Episodes</h3>\r\n\t\t\t<div className=\"switch\">\r\n\t\t\t\t<p>En</p>\r\n\t\t\t\t<div className=\"track\" onClick={changeTitle}>\r\n\t\t\t\t\t<div className=\"thumb\" ref={thumb} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<p>Jp</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"page-nav\">\r\n\t\t\t\t{ parseInt(page || 1) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t\t{ parseInt(page || 1) < data.episodes_last_page && <button onClick={nextPage}>Next Page</button> }\r\n\t\t\t</div>\r\n\t\t\t{ innerWidthSize === 'big' && episodes }\r\n\t\t\t{ innerWidthSize === 'small' && episodes }\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Episodes;","import './styles/news.css';\r\nimport * as date from './../../../../../utils/date';\r\n\r\nfunction News(props) {\r\n\t\r\n\tconst { data } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tconst articles = data.articles?.length ? data.articles.map((article, index) => {\r\n\t\tconst d = date.convertISO8601(article.date);\r\n\t\treturn (\r\n\t\t\t<div key={index} className=\"article alt-bg\">\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName=\"img-cont\" \r\n\t\t\t\t\ttarget=\"_blank\" \r\n\t\t\t\t\trel=\"noreferrer\" \r\n\t\t\t\t\thref={article.url}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img src={article.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName=\"news-title\" \r\n\t\t\t\t\t\ttarget=\"_blank\" \r\n\t\t\t\t\t\trel=\"noreferrer\" \r\n\t\t\t\t\t\thref={article.url}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<h4>{ article.title }</h4>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<p>{ article.intro }</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tPosted at {d.year}/{d.month}/{d.date} {d.hour}:{d.minute} {d.meridiem} by\r\n\t\t\t\t\t\t</span> &nbsp;\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={article.author_url} \r\n\t\t\t\t\t\t\ttarget=\"_blank\" \r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t>{ article.author_name}</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{ article.comments } comments | &nbsp;\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName=\"forum\" \r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer\" \r\n\t\t\t\t\t\t\thref={article.forum_url}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Forum</span>\r\n\t\t\t\t\t\t\t<i className=\"material-icons\">forum</i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}) : <h2>none</h2>\r\n\r\n\treturn (\r\n\t\t<section className=\"news-section\">\r\n\t\t\t<h3 className=\"first-title\">News</h3>\r\n\t\t\t{ articles }\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default News;","import { useState, useEffect } from 'react';\r\nimport './styles/pictures.css';\r\n\r\nfunction Pictures(props) {\r\n\r\n\tconst { data } = props;\r\n\tconst [pics, setPics] = useState([]);\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\tconst pics = data.pictures?.map((pic, index) => (\r\n\t\t\t<div key={index}>\r\n\t\t\t\t<img src={pic.large} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t))\r\n\r\n\t\tsetPics(pics);\r\n\r\n\t}, [data.pictures])\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\treturn (\r\n\t\t<div className=\"pictures-section\">\r\n\t\t\t<h3 className=\"first-title\">Pictures</h3>\r\n\t\t\t<section className=\"pictures\">\r\n\t\t\t\t<div className=\"pics\">\r\n\t\t\t\t\t{ pics }\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Pictures;","import './styles/videos.css';\r\nimport ShowMore from './../../../ShowMore';\r\n\r\nfunction Videos(props) {\r\n\r\n\tconst { data } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tconst videos = data.episodes?.length ? data.episodes.map((vid, index) => (\r\n\t\t<a\r\n\t\t\tkey={index} \r\n\t\t\ttarget=\"_blank\" \r\n\t\t\trel=\"noreferrer\"\r\n\t\t\thref={vid.url} \r\n\t\t\tclassName=\"video\"\r\n\t\t>\r\n\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t<img src={vid.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<p>{ vid.title } - { vid.episode }</p>\r\n\t\t\t</div>\r\n\t\t</a>\r\n\t)) : <h2>none</h2>;\r\n\r\n\tconst promos = data.promo?.length ? data.promo.map((promo, index) => (\r\n\t\t<a\r\n\t\t\tkey={index} \r\n\t\t\ttarget=\"_blank\" \r\n\t\t\trel=\"noreferrer\"\r\n\t\t\thref={promo.video_url} \r\n\t\t\tclassName=\"video\"\r\n\t\t>\r\n\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t<img src={promo.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<p>{ promo.title }</p>\r\n\t\t\t</div>\r\n\t\t</a>\r\n\t)) : <h2>none</h2>;\r\n\r\n\treturn (\r\n\t\t<section className=\"videos-section\">\r\n\t\t\t<h3 className=\"first-title\">Videos</h3>\r\n\t\t\t<ShowMore className=\"videos\" Items={videos} />\r\n\t\t\t<h3 className=\"title\">Promos</h3>\r\n\t\t\t<ShowMore className=\"promos\" Items={promos} />\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Videos;","import './styles/stats.css';\r\n\r\nfunction Stats(props) {\r\n\r\n\tconst { type, data } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tconst scores = () => {\r\n\t\tconst _scores = [];\r\n\t\tfor (let i in data.scores) {\r\n\t\t\t_scores.push({\r\n\t\t\t\tscore: i,\r\n\t\t\t\tvotes: data.scores[i].votes,\r\n\t\t\t\tpercentage: data.scores[i].percentage,\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn _scores;\r\n\t}\r\n\t\r\n\tconst drawnScores = scores().map((score, index) => (\r\n\t\t<div key={index}>\r\n\t\t\t<p className=\"score-num\">{ score.score }</p>\r\n\t\t\t<div className=\"bar\" style={{width: score.percentage + '%'}} />\r\n\t\t\t<p className=\"votes\">\r\n\t\t\t\t{ score.votes } votes ({ score.percentage }%)\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t))\r\n\r\n\treturn (\r\n\t\t<section className=\"stats-section\">\r\n\t\t\t<h2 className=\"first-title\">Summary</h2>\r\n\t\t\t<div className=\"nums\">\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<p className=\"sub-title\">Completed:</p>\r\n\t\t\t\t\t<span>{ data.completed || 'unknown' }</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<p className=\"sub-title\">Dropped:</p>\r\n\t\t\t\t\t<span>{ data.dropped || 'unknown' }</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<p className=\"sub-title\">On hold:</p>\r\n\t\t\t\t\t<span>{ data.on_hold || 'unknown' }</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'anime' ?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t\t<p className=\"sub-title\">Plan to watch:</p>\r\n\t\t\t\t\t\t\t<span>{ data.plan_to_watch || 'unknown' }</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t\t<p className=\"sub-title\">Watching:</p>\r\n\t\t\t\t\t\t\t<span>{ data.watching || 'unknown' }</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</> :\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t\t<p className=\"sub-title\">Plan to read:</p>\r\n\t\t\t\t\t\t\t<span>{ data.plan_to_read || 'unknown' }</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t\t<p className=\"sub-title\">Reading:</p>\r\n\t\t\t\t\t\t\t<span>{ data.reading || 'unknown' }</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"sub-title\">Total:</p>\r\n\t\t\t\t\t<span>{ data.total || 'unknown' }</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"title\">Graph</h2>\r\n\t\t\t<div className=\"score\">{ drawnScores }</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Stats;","import './styles/forum.css';\r\nimport * as date from './../../../../../utils/date';\r\n\r\nfunction Forum(props) {\r\n\r\n\tconst { data } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tconst forums = data.topics?.length ? data.topics.map((topic, index) => {\r\n\t\tconst d = date.convertISO8601(topic.date_posted)\r\n\t\treturn (\r\n\t\t\t<div key={index} className=\"forum alt-bg\">\r\n\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={topic.url}><h4>{ topic.title }</h4></a>\r\n\t\t\t\t<div className=\"post-info\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{d.year}/{d.month}/{d.date} {d.hour}:{d.minute} {d.meridiem} by &nbsp;\r\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={topic.author_url}>\r\n\t\t\t\t\t\t\t{ topic.author_name }\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>{ topic.replies } replies</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}) : <h2>none</h2>\r\n\r\n\treturn (\r\n\t\t<section className=\"forums-section\">\r\n\t\t<h3 className=\"first-title\">Forums</h3>\r\n\t\t\t{ forums }\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Forum;","import './styles/reviews.css';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport * as date from './../../../../../utils/date';\r\n\r\nfunction Reviews(props) {\r\n\r\n\tconst { data } = props;\r\n\tconst { type, mal_id, page } = useParams();\r\n\tconst history = useHistory();\r\n\r\n\tconst reviews = data.reviews?.length ? data.reviews.map((review, index) => {\r\n\t\tconst d = date.convertISO8601(review.date);\r\n\t\tconst showScore = () => {\r\n\t\t\tconst table = document.getElementById('table-score-' + index);\r\n\t\t\tconst display = table.style.display;\r\n\t\t\ttable.style.display = display ? '' : 'none';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"review alt-bg\" key={index}>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={review.reviewer.url} className=\"img-cont\">\r\n\t\t\t\t\t<img src={review.reviewer.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<div className=\"row row-1\">\r\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={review.reviewer.url}>\r\n\t\t\t\t\t\t\t<h4>{ review.reviewer.username }</h4>\r\n\t\t\t\t\t\t</a>&nbsp;-&nbsp;\r\n\t\t\t\t\t\t<span>{d.year}/{d.month}/{d.date} {d.hour}:{d.minute} {d.meridiem}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row row-2\">\r\n\t\t\t\t\t\t<p>{ review.content }</p>\r\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={review.url}>See more</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row row-3\">\r\n\t\t\t\t\t\t<span>{ review.helpful_count } people find this helpful</span>\r\n\t\t\t\t\t\t<button onClick={showScore}>Overall Score: { review.reviewer.scores.overall }</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table id={'table-score-' + index} style={{display: 'none'}}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr className=\"heading\">\r\n\t\t\t\t\t\t\t\t<td>Type</td>\r\n\t\t\t\t\t\t\t\t<td>Score</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Animation</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.animation }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Character</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.character }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Enjoyment</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.enjoyment }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Sound</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.sound }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Story</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.story }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Overall</td>\r\n\t\t\t\t\t\t\t\t<td>{ review.reviewer.scores.overall }</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}) : <h2>none</h2>\r\n\r\n\tconst nextPage = () => {\r\n\t\thistory.push(\r\n\t\t\t`/item-page/${type}/${mal_id}/reviews/${parseInt(page || 1) + 1}`\r\n\t\t);\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\thistory.push(\r\n\t\t\t`/item-page/${type}/${mal_id}/reviews/${parseInt(page) - 1}`\r\n\t\t);\r\n\t}\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tif (!data.reviews?.length) return null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t<div className=\"page-nav\">\r\n\t\t\t{ parseInt(page || 1) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t<button onClick={nextPage}>Next Page</button>\r\n\t\t</div>\r\n\t\t<h3 className=\"first-title\">Reviews</h3>\r\n\t\t<section className=\"reviews-section\">\r\n\t\t\t{ reviews }\r\n\t\t</section>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Reviews;","import { Link } from 'react-router-dom';\r\nimport './styles/Recommendations.css';\r\n\r\nfunction Recommendations(props) {\r\n\r\n\tconst { data } = props;\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\t\r\n\tconst type = data.recommendations?.[0]?.url.split('/')[3];\r\n\r\n\tconsole.log(data)\r\n\r\n\tconst recommendations = data.recommendations?.length ? data.recommendations.map((r, i) => (\r\n\t\t<div className=\"recommendation alt-bg\" key={i}>\r\n\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t<img src={r.image_url} alt=\"\" />\r\n\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<Link to={`/item-page/${type}/${r.mal_id}`}><h4>{ r.title }</h4></Link>\r\n\t\t\t\t<p>Recommended by { r.recommendation_count } people</p>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={r.recommendation_url}>See more</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)) : <h2>none</h2>\r\n\r\n\treturn (\r\n\t\t<section className=\"recommendations-section\">\r\n\t\t\t<h3 className=\"first-title\">Recommendations</h3>\r\n\t\t\t{ recommendations }\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default Recommendations;","import * as date from './../../../../../utils/date';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport './styles/user-updates.css'\r\n\r\nfunction UsersUpdate(props) {\r\n\r\n\tconst { data } = props;\r\n\tconst { type, mal_id, page } = useParams();\r\n\tconst history = useHistory();\r\n\t\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tconst users = () => data.users?.length ? data.users.map((user, index) => {\r\n\t\tconst d = date.convertISO8601(user.date);\r\n\t\treturn (\r\n\t\t\t<div key={index} className=\"alt-bg\">\r\n\t\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t\t<img src={user.image_url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={user.url}\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t><h4>{ user.username }</h4></a>\r\n\t\t\t\t\t\t<p>{ d.year }/{ d.month }/{ d.date } { d.hour }:{ d.minute } { d.meridiem }</p>\r\n\t\t\t\t\t\t<p>Status: { user.status || 'none' }</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<p>{ user.episodes_seen || 'none' } eps seen</p>\r\n\t\t\t\t\t\t<p>{ user.episodes_total || 'none' } in total</p>\r\n\t\t\t\t\t\t<p>Score: { user.score || 'none' }</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}) : <h2>none</h2>\r\n\r\n\tconst nextPage = () => {\r\n\t\thistory.push(\r\n\t\t\t`/item-page/${type}/${mal_id}/userupdates/${parseInt(page || 1) + 1}`\r\n\t\t);\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\thistory.push(\r\n\t\t\t`/item-page/${type}/${mal_id}/userupdates/${parseInt(page) - 1}`\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t<div className=\"page-nav\">\r\n\t\t\t{ parseInt(page || 1) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t{ <button onClick={nextPage}>Next Page</button> }\r\n\t\t</div>\r\n\t\t<h3 className=\"first-title\">Users Updates</h3>\r\n\t\t<section className=\"user-updates-section\">\r\n\t\t\t{ users() }\r\n\t\t</section>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default UsersUpdate;","import { useEffect, useRef } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nfunction Score(props) {\r\n\r\n\tconst { data } = props;\r\n\tconst score = data.score;\r\n\tconst { type, mal_id } = useParams();\r\n\tconst starCont = useRef(null);\r\n\tconst progress = useRef(null);\r\n\r\n\tconst star = () => {\r\n\t\tif (!score) return;\r\n\t\tconst childNodes = starCont.current.childNodes;\r\n\t\tconst s = (score / 2).toString().split('.');\r\n\t\tconst int = parseInt(s[0]);\r\n\t\tfor (let i = 0; i < int; i++) {\r\n\t\t\tchildNodes[i].classList.add('full');\r\n\t\t}\r\n\t\tif (!childNodes[int]) return;\r\n\t\tlet percent = s[1];\r\n\t\tif (percent?.length >= 3) percent = s[1].slice(1);\r\n\t\tif (percent?.length === 1) percent = s[1] + 0;\r\n\t\tchildNodes[int].style.backgroundImage = `linear-gradient(\r\n\t\t\tto right, #ffff00 ${percent}%, transparent ${percent}%\r\n\t\t)`;\r\n\t}\r\n\r\n\tconst circle = () => {\r\n\t\tif (!progress.current) return;\r\n\t\tconst radius = progress.current.r.baseVal.value;\r\n\t\tconst circumference = radius * 2 * Math.PI;\r\n\t\tprogress.current.style.strokeDasharray  = circumference;\r\n\t\tconst setProgress = percent => {\r\n\t\t\tprogress.current.style.strokeDashoffset = circumference - (percent / 100) * circumference;\r\n\t\t}\r\n\t\tsetProgress(score * 10);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tstar(); \r\n\t\tcircle();\r\n\r\n\t}, [score]); // eslint-disable-line\r\n\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\treturn (\r\n\t\t<Link to={`/item-page/${type}/${mal_id}/pictures`} className=\"img-cont box-2\">\r\n\t\t\t<img src={data.image_url} alt=\"\" onLoad={e => e.target.parentElement.style.marginBottom = '20px'} />\r\n\t\t\t<div className=\"img-cover\" />\r\n\t\t\t{\r\n\t\t\t\ttype !== 'character' && type !== 'person' &&\r\n\t\t\t\t<div className=\"score\">\r\n\t\t\t\t\t<div className=\"circle-score\">\r\n\t\t\t\t\t\t<svg width=\"50\" height=\"50\">\r\n\t\t\t\t\t\t\t<circle cx=\"25\" cy=\"25\" r=\"20\" className=\"track\" />\r\n\t\t\t\t\t\t\t<circle cx=\"25\" cy=\"25\" r=\"20\" className=\"progress\" ref={progress} />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<p>{ Math.round(score * 10) || 0 }%</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"star-score\" ref={starCont}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t\t\t<i className=\"material-icons\">star</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default Score;","import { Link } from 'react-router-dom';\r\nimport * as date from './../../../../utils/date';\r\n\r\nfunction Related(props) {\r\n\r\n\tconst { type, data } = props;\r\n\t\r\n\tconst related = () => {\r\n\t\tconst related = data.related;\r\n\t\tif (!related) return;\r\n\t\tconst items = [];\r\n\t\tfor (let i in related) {\r\n\t\t\titems.push(\r\n\t\t\t\t<div key={i} className=\"info\">\r\n\t\t\t\t\t<p className=\"sub-title\">{ i }:</p>&nbsp;\r\n\t\t\t\t\t{ related[i].map((item, index) => (\r\n\t\t\t\t\t\t\t<span key={index}>\r\n\t\t\t\t\t\t\t\t<Link to={`/item-page/${item.type}/${item.mal_id}`}>{ item.name }</Link>\r\n\t\t\t\t\t\t\t\t{ index !== related[i].length - 1 && <>,&nbsp;</> }\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t)) }\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn items;\r\n\t}\r\n\r\n\tconst birthday = d => {\r\n\t\tconst da = date.convertISO8601(d);\r\n\t\treturn `${da.year}/${da.month}/${da.date}`;\r\n\t}\r\n\r\n\tif (!Object.keys(data).length) return null;\r\n\r\n\tswitch(type) {\r\n\t\tcase 'anime':\r\n\t\tcase 'manga':\r\n\t\t\treturn (\r\n\t\t\t\t<section className=\"box-3\">\r\n\t\t\t\t\t<h3 className=\"first-title\">Related</h3>\r\n\t\t\t\t\t{ related() }\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\tcase 'character':\r\n\t\t\treturn (\r\n\t\t\t\t<section className=\"box-3\">\r\n\t\t\t\t\t<h3 className=\"first-title\">Information</h3>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Favorites:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.member_favorites || 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Kanji Names:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.name_kanji || 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Nicknames:</p> &nbsp;\r\n\t\t\t\t\t\t<span>{ data.nicknames?.length ? data.nicknames.join(', ') : 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\tcase 'person':\r\n\t\t\treturn (\r\n\t\t\t\t<section className=\"box-3\">\r\n\t\t\t\t\t<h3 className=\"first-title\">Information</h3>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Nicknames:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.alternate_names?.length ? data.alternate_names.join(', ') : 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Favorites:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.member_favorites || 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Birthday:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.birthday ? birthday(data.birthday) : 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Family Name:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.family_name || 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Given Name:</p>&nbsp;\r\n\t\t\t\t\t\t<span>{ data.given_name || 'none' }</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"sub-title\">Website Url:</p>&nbsp;\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdata.website_url ?\r\n\t\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={data.website_url}>Click Here</a> :\r\n\t\t\t\t\t\t\t\t'none'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\tdefault: break;\r\n\t}\r\n\r\n}\r\n\r\nexport default Related;","import { useState, useEffect } from 'react';\r\nimport { Switch, Route, useParams } from 'react-router-dom';\r\nimport Nav from './Nav';\r\nimport Details from './Parts/Left/Details/Details';\r\nimport CharactersStaff from './Parts/Left/CharactersStaff/CharactersStaff';\r\nimport Episodes from './Parts/Left/Episodes/Episodes';\r\nimport News from './Parts/Left/News/News';\r\nimport Pictures from './Parts/Left/Pictures/Pictures';\r\nimport Videos from './Parts/Left/Videos/Videos';\r\nimport Stats from './Parts/Left/Stats/Stats';\r\nimport Forum from './Parts/Left/Forum/Forum';\r\nimport Reviews from './Parts/Left/Reviews/Reviews';\r\nimport Recommendations from './Parts/Left/Recommendations/Recommendations';\r\nimport UserUpdates from './Parts/Left/UserUpdates/UserUpdates';\r\nimport Top from './Parts/Right/Top';\r\nimport Bottom from './Parts/Right/Bottom';\r\nimport * as url from '../../utils/xhr';\r\nimport useIsmounted from './../../custom-hook/useIsMounted';\r\nimport './style/item-page.css';\r\n\r\nfunction ItemPage(props) {\r\n\t\r\n\tconst { type, mal_id, request, page } = useParams();\r\n\tconst [data, setData] = useState({});\r\n\tconst [moreInfo, setMoreInfo] = useState({});\r\n\tconst [requestedData, setRequestedData] = useState({});\r\n\tconst ismounted = useIsmounted();\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst titlelized = str => str[0].toUpperCase() + str.slice(1);\r\n\r\n\t\tconst name = data.title || data.name ||  document.title;\r\n\r\n\t\tdocument.title = 'Anime Web | '+ name + (request ? ' - ' + titlelized(request) : '');\r\n\r\n\t}, [data, request]);\r\n\r\n\tconst fetchData = (apiUrl, setter) => {\r\n\t\turl.get(apiUrl).then(response => {\r\n\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\tif (ismounted()) return setter(parsed);\r\n\t\t})\r\n\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tconst fetch = () => {\r\n\t\t\tfetchData(`https://api.jikan.moe/v3/${type}/${mal_id}`, setData);\r\n\r\n\t\t\tif (!request && \r\n\t\t\t\ttype === 'character' && \r\n\t\t\t\ttype === 'person') {\r\n\t\t\t\tfetchData(`https://api.jikan.moe/v3/${type}/${mal_id}/moreinfo`, setMoreInfo);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetch()\r\n\r\n\t\treturn () => {\r\n\t\t\tsetData({});\r\n\t\t\tsetMoreInfo({});\r\n\t\t};\r\n\r\n\t}, [type, mal_id]) // eslint-disable-line\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tconst fetch = () => {\r\n\t\t\tif (!request) return;\r\n\t\t\t\r\n\t\t\tif (request && page) {\r\n\t\t\t\tfetchData(\r\n\t\t\t\t\t`https://api.jikan.moe/v3/${type}/${mal_id}/${request}/${page}`, \r\n\t\t\t\t\tsetRequestedData\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tfetchData(\r\n\t\t\t\t`https://api.jikan.moe/v3/${type}/${mal_id}/${request}`, \r\n\t\t\t\tsetRequestedData\r\n\t\t\t);\r\n\t\t}\r\n\t\tfetch()\r\n\r\n\t\treturn () => setRequestedData({});\r\n\r\n\t}, [type, mal_id, request, page]) // eslint-disable-line\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Nav />\r\n\t\t\t<main className=\"item-page\">\r\n\t\t\t\t<div className=\"item-title\"><h1>{ data.title || data.name }</h1> </div>\r\n\t\t\t\t<div className=\"sub-item-page\">\r\n\t\t\t\t\t<div className=\"box-1\">\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id\">\r\n\t\t\t\t\t\t\t\t<Details type={type} data={data} moreInfo={moreInfo} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={[\r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/characters_staff\", \r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/characters\"\r\n\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t<CharactersStaff data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={[\r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/episodes\", \r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/episodes/:page\"\r\n\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t<Episodes data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/news\">\r\n\t\t\t\t\t\t\t\t<News data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/pictures\">\r\n\t\t\t\t\t\t\t\t<Pictures data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/videos\">\r\n\t\t\t\t\t\t\t\t<Videos data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/stats\">\r\n\t\t\t\t\t\t\t\t<Stats data={requestedData} type={type} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/forum\">\r\n\t\t\t\t\t\t\t\t<Forum data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={[\r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/reviews\", \r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/reviews/:page\"\r\n\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t<Reviews data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/item-page/:type/:mal_id/recommendations\">\r\n\t\t\t\t\t\t\t\t<Recommendations data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={[\r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/userupdates\",\r\n\t\t\t\t\t\t\t\t\"/item-page/:type/:mal_id/userupdates/:page\"\r\n\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t<UserUpdates data={requestedData} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Top data={data} />\r\n\t\t\t\t\t<Bottom type={type} data={data} />\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ItemPage;","import { useState, useEffect } from 'react';\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport * as xhr from '../../utils/xhr';\r\nimport * as url from '../../utils/url';\r\nimport Items from '../Items/Season-Genre/Items';\r\nimport './styles/producer.css';\r\nimport umaruSad from './../../assets/umaru-chan-sad.png';\r\n\r\nfunction Producer() {\r\n\r\n\tconst [type, setType] = useState(null);\r\n\tconst [data, setData] = useState(null);\r\n\tconst params = useParams();\r\n\tconst mal_id = params.mal_id;\r\n\tconst page = params.page || 1;\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\r\n\tconst titlelized = str => str[0].toUpperCase() + str.slice(1);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (!type) return;\r\n\r\n\t\tdocument.title = 'Anime Web | ' + data?.meta?.name + ' - ' + titlelized(type);\r\n\r\n\t}, [data, type]) // eslint-disable-line\r\n\r\n\tuseEffect(() => setType(url.paths()[0]), [location])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst fetchData = () => {\r\n\t\t\tif (!type) return;\r\n\t\t\tconst apiUrl = `https://api.jikan.moe/v3/${type}/${mal_id}/${page || 1}`;\r\n\t\t\txhr.get(apiUrl).then(response => {\r\n\t\t\t\tconst parsed = JSON.parse(response);\r\n\t\t\t\tif (!parsed[parsed.meta?.type]) throw new Error('No results found')\r\n\t\t\t\tsetData(parsed)\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetData(null);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t\t}\r\n\t\tfetchData();\r\n\r\n\t\treturn () => setData(null);\r\n\r\n\t}, [type, mal_id, page])\r\n\r\n\tconst nextPage = () => {\r\n\t\thistory.push(`/${type}/${mal_id}/${parseInt(page) + 1}`)\r\n\t}\r\n\r\n\tconst prevPage = () => {\r\n\t\thistory.push(`/${type}/${mal_id}/${parseInt(page) - 1}`)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"producer\">\r\n\t\t\t<div className=\"producer-title\">\r\n\t\t\t\t\t<h1>{ type === 'producer' ? 'Producer' : 'Magazine' }: { data?.meta?.name || 'None' }</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"page-nav\">\r\n\t\t\t\t{ parseInt(page) !== 1 && <button onClick={prevPage}>Prev Page</button> }\r\n\t\t\t\t{ data ? <button onClick={nextPage}>Next Page</button> : null}\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tdata ?\r\n\t\t\t\t<div className=\"box-items\">\r\n\t\t\t\t\t<Items data={data[data?.meta?.type]} type={data?.meta?.type} />\r\n\t\t\t\t</div> :\r\n\t\t\t\t<div className=\"no-result-container\">\r\n\t\t\t\t\t<h1>No results </h1>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Try changing the search input</li>\r\n\t\t\t\t\t\t<li>Try changing the type</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div className=\"img-cont\">\r\n\t\t\t\t\t\t<img src={umaruSad} alt=\"\" />\r\n\t\t\t\t\t\t<div className=\"img-cover\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Producer;","import { Link } from 'react-router-dom';\r\nimport './styles/not-found.css';\r\n\r\nfunction NotFound(props) {\r\n\treturn (\r\n\t\t<main className=\"not-found-area\">\r\n\t\t\t<div className=\"sub-not-found-area\">\r\n\t\t\t\t<h1 className=\"status\">404</h1>\r\n\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t<p>Oops. The page you are looking for is not available.</p>\r\n\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default NotFound;","import { useState, forwardRef, useRef } from 'react';\r\n\r\nconst SuggestionBox = forwardRef((props, suggestionBox) => {\r\n\r\n\tconst [subject, setSubject] = useState('')\r\n\tconst [body, setBody] = useState('');\r\n\tconst form = useRef(null);\r\n\tconst input = useRef(null);\r\n\tconst inputTextLength = useRef(null);\r\n\tconst textArea = useRef(null);\r\n\tconst textAreaTextLength = useRef(null);\r\n\tconst submitBtn = useRef(null);\r\n\tconst a = useRef(null);\r\n\r\n\tconst hideSuggestionBox = () => {\r\n\t\tsuggestionBox.current.style.display = 'none';\r\n\t\tinput.current.value = '';\r\n\t\ttextArea.current.value = '';\r\n\t}\r\n\r\n\tconst formSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst inputValue = input.current.value.trim();\r\n\t\tconst textAreaValue = textArea.current.value.trim();\r\n\t\tif (\r\n\t\t\t!inputValue.length || \r\n\t\t\t!textAreaValue.length || \r\n\t\t\tinputValue.length > 100 || \r\n\t\t\ttextAreaValue.length > 500 \r\n\t\t) {\r\n\t\t\talert('Suggestion length must be more than 20 and less than 500 characters');\r\n\t\t} else {\r\n\t\t\ta.current.click();\r\n\t\t\ttextArea.current.value = '';\r\n\t\t\thideSuggestionBox();\r\n\t\t}\r\n\t}\r\n\r\n\tconst validateSubmitBtn = () => {\r\n\t\tconst inputValue = input.current.value.trim();\r\n\t\tconst textAreaValue = textArea.current.value.trim();\r\n\t\tif (\r\n\t\t\t!inputValue.length || \r\n\t\t\t!textAreaValue.length || \r\n\t\t\tinputValue.length > 100 || \r\n\t\t\ttextAreaValue.length > 500 \r\n\t\t) {\r\n\t\t\tsubmitBtn.current.classList.add('invalid');\r\n\t\t\tsubmitBtn.current.title = (\r\n\t\t\t\t'Subject length must be more than 100\\nBody must be more than 500 characters'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsubmitBtn.current.classList.remove('invalid');\r\n\t\t\tsubmitBtn.current.title = '';\r\n\t\t}\r\n\t}\r\n\r\n\tconst textAreaOnInput = e => {\r\n\t\ttextAreaTextLength.current.textContent = e.target.value.length + ' / 500';\r\n\t\tconst value = textArea.current.value.trim();\r\n\t\tsetBody(value);\r\n\t\tvalidateSubmitBtn();\r\n\t}\r\n\r\n\tconst inputOnInput = e => {\r\n\t\tinputTextLength.current.textContent = e.target.value.length + ' / 100';\r\n\t\tconst value = input.current.value.trim();\r\n\t\tsetSubject(value);\r\n\t\tvalidateSubmitBtn();\r\n\t}\r\n\r\n\tconst shakeForm = () => {\r\n\t\tform.current.style.animation = 'shake 500ms linear';\r\n\t\tsetTimeout(() => form.current.style.animation = '', 500);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"bug-report-container\"\r\n\t\t\tref={suggestionBox}\r\n\t\t\tonClick={shakeForm}\r\n\t\t\tstyle={{display: 'none'}}\r\n\t\t>\r\n\t\t\t<form onSubmit={formSubmit} ref={form}>\r\n\t\t\t\t<h3>Suggestion</h3>\r\n\t\t\t\t<div className=\"input-container\">\r\n\t\t\t\t\t<input ref={input} onInput={inputOnInput} placeholder=\"Subject\" />\r\n\t\t\t\t\t<span className=\"input-length\" ref={inputTextLength}>0 / 100</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"textarea-container\">\r\n\t\t\t\t\t<textarea ref={textArea} onInput={textAreaOnInput} placeholder=\"Body\" />\r\n\t\t\t\t\t<span className=\"textarea-length\" ref={textAreaTextLength}>0 / 500</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"btns\">\r\n\t\t\t\t\t<button type=\"button\" onClick={hideSuggestionBox}>cancel</button>\r\n\t\t\t\t\t<button type=\"submit\" className=\"invalid\" ref={submitBtn}>Submit</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<a\r\n\t\t\t\tref={a}\r\n\t\t\t\thref={`mailto:vinc3w59@gmail.com?subject=${subject}&body=${body}`}\r\n\t\t\t\tstyle={{display: 'none'}}\r\n\t\t\t><span>email link</span></a>\r\n\t\t</div>\r\n\t);\r\n})\r\n\r\nexport default SuggestionBox;","import { useRef } from 'react';\r\nimport SuggestionBox from './SuggestionBox';\r\nimport './styles/footer.css';\r\n\r\nfunction Footer() {\r\n\r\n\tconst suggestionBox = useRef(null);\r\n\r\n\tconst showSuggestionBox = () => {\r\n\t\tsuggestionBox.current.style.display = '';\r\n\t}\r\n\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<div className=\"sub-footer\">\r\n\t\t\t\t<section className=\"col-1 col\">\r\n\t\t\t\t\t<h3>Description</h3>\r\n\t\t\t\t\t<p>I dont own anything you see here.</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tApi source:&nbsp;\r\n\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href=\"https://jikan.moe/\">Jikan</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"col-2 col\">\r\n\t\t\t\t\t<h3>Follow me</h3>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref=\"https://web.facebook.com/vincent.har.792\"\r\n\t\t\t\t\t\t\t\tclassName=\"fa fa-facebook\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t\t><span>facebook</span></a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref=\"https://www.instagram.com/vinc3w_78220/\"\r\n\t\t\t\t\t\t\t\tclassName=\"fa fa-instagram\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t><span>instagram</span></a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/vinc3w\"\r\n\t\t\t\t\t\t\t\tclassName=\"fa fa-github\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t\t\t><span>github</span></a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"col-3 col\">\r\n\t\t\t\t\t<h3>Add Suggestion</h3>\r\n\t\t\t\t\t<button onClick={showSuggestionBox}>Request</button>\r\n\t\t\t\t</section>\r\n\t\t\t\t<SuggestionBox ref={suggestionBox} />\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;","import { Route, Switch } from 'react-router-dom';\nimport NavBar from './Components/NavBar/NavBar';\nimport Home from './Components/Home/Home';\nimport ToTopBtn from './Components/ToTopBtn/ToTopBtn';\nimport Header from './Components/Header/Header';\nimport Top from './Components/Top/Top';\nimport Search from './Components/Search/Search';\nimport AdvanceSearch from './Components/AdvanceSearch/AdvanceSearch';\nimport Genre from './Components/Genre/Genre';\nimport Season from './Components/Season/Season';\nimport ItemPage from './Components/ItemPage/ItemPage';\nimport ProducerMagazine from './Components/ProducerMagazine/ProducerMagazine';\nimport NotFound from './Components/NotFound/NotFound';\nimport Footer from './Components/Footer/Footer';\nimport './styles/style.css';\nimport './styles/items/Type1/moreThan700/items.css';\nimport './styles/items/Type1/lessThan700/items.css';\nimport './styles/items/Type2/items.css';\n\nfunction App() {\n\n\tconsole.log(\n\t\t'%cX%cX%cX%cX%cX%cX%cX%c Isn\\'t the rainbow nice?',\n\t\t'background: red; color: red; font-size: 50px',\n\t\t'background: orange; color: orange; font-size: 50px',\n\t\t'background: yellow; color: yellow; font-size: 50px',\n\t\t'background: green; color: green; font-size: 50px',\n\t\t'background: blue; color: blue; font-size: 50px',\n\t\t'background: indigo; color: indigo; font-size: 50px',\n\t\t'background: violet; color: violet; font-size: 50px',\n\t\t'background: initial;  font-size: 50px'\n\t)\n\t\n\treturn (\n\t\t<>\n\t\t\t<NavBar />\n\t\t\t<Header />\n\t\t\t<ToTopBtn />\n\t\t\t<div id=\"progress-bar\" />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={[\n\t\t\t\t\t\"/top\", \n\t\t\t\t\t\"/top/:type\",\n\t\t\t\t\t\"/top/:type/:subtype\"\n\t\t\t\t]}>\n\t\t\t\t\t<Top />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/search/:type\">\n\t\t\t\t\t<Search />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/advance-search\">\n\t\t\t\t\t<AdvanceSearch />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={[\n\t\t\t\t\t\"/genre\", \n\t\t\t\t\t\"/genre/:type\", \n\t\t\t\t\t\"/genre/:type/:mal_id\", \n\t\t\t\t\t\"/genre/:type/:mal_id/:page\" \n\t\t\t\t]}>\n\t\t\t\t\t<Genre />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={[\n\t\t\t\t\t\"/season\",\n\t\t\t\t\t\"/season/schedule/:day\",\n\t\t\t\t\t\"/season/:year/:season\",\n\t\t\t\t\t\"/season/:type\",\n\t\t\t\t]}>\n\t\t\t\t\t<Season />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={[\n\t\t\t\t\t\"/item-page/:type/:mal_id\", \n\t\t\t\t\t\"/item-page/:type/:mal_id/:request\", \n\t\t\t\t\t\"/item-page/:type/:mal_id/:request/:page\"\n\t\t\t\t]}>\n\t\t\t\t\t<ItemPage />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={[\n\t\t\t\t\t\"/producer/:mal_id\",\n\t\t\t\t\t\"/producer/:mal_id/:page\",\n\t\t\t\t\t\"/magazine/:mal_id/\",\n\t\t\t\t\t\"/magazine/:mal_id/:page\",\n\t\t\t\t]}>\n\t\t\t\t\t<ProducerMagazine />\n\t\t\t\t</Route>\n\t\t\t\t<Route>\n\t\t\t\t\t<NotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t\t<Footer />\n\t\t</>\n\t);\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}